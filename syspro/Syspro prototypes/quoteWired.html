<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>SYSPRO Product Visual Builder</title>

        <!-- Bootstrap -->

        <link href="css/UX_CSS_kendo.common-bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.dataviz.min.css" rel="stylesheet" />

        <link href="css/UX_CSS_kendo.dataviz.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_sysprostyle.css" rel="stylesheet" />
        <link rel="stylesheet" href="css/perfect-scrollbar.css" />
        <!-- <link href="css/UX_CSS_ripples.min.css" rel="stylesheet" />

        <link href="css/UX_CSS_forms.css" rel="stylesheet" /> -->

        <style>
            .package.sys-bg-success {
                background-color: #84BD00 !important;
            }
            .package.sys-bg-info {
                background-color: #00C3DE !important;
            }
            .package.sys-bg-primary {
                background-color: #007FA3 !important;
            }
            .customer-details {
                display: none;
            }
            .existing-customer-field, .existing-quote-field, .quote-field, .customer-type-field {
                display: none;
            }
            .form-group {
                margin-top: 10px;
                margin-bottom: 15px;
            }
            .prodConfigOptionsWrapper .collapse.in,
            .prodConfigOptionsWrapper .collapsing {
                background: #f9f9f9;
                padding: 15px;
            }
            .form-control {
                border-radius: 3px;
                border: 2px solid #ecf0f1;
                max-width: 100%;
            }
            .form-control:focus {
                border: 2px solid #0078d7;
            }
            
            .noUi-tooltip {
                word-wrap: normal;
                bottom: 140%;
                top: auto;
                box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
                left: 50%;
                text-align: center;
                display: block;
                position: absolute;
                /* border: 1px solid #d9d9d9; */
                border-radius: 3px;
                background: #fff;
                color: #000;
                padding: 5px;
                text-align: center;
                white-space: nowrap;
                transform: translate(-50%, 0);
            }
            .noUi-handle.noUi-active {
                -webkit-transform: scale3d(1.3, 1.3, 1);
                transform: scale3d(1.3, 1.3, 1);
            }
            .noUi-handle {
                width: 18px;
                height: 18px;
                left: -18px;
                top: -9px;
            }
            .slider .noUi-handle {
                background-color: #0078d7;
                border-color: #0078d7;
            }
            .noUi-connect {
                background-color: #0078d7;
            }
            .productConfigAccordion textarea {
                background-color: white !important;
                padding: 5px;
            }
            .prodConfigOptionsWrapper {
                max-height: 700px;
                overflow: scroll;
            }
            .btn.btn-radio.active {
                outline: 0;
                background-image: none;
                border: 2px solid #61dfff !important;
            }


            .btn-colour {
                height: 20px;
                width: 20px;
                border-radius: 50%;
                padding: 0px;
            }
        </style>

<style>

    #quoteOverallProgress {
        position: fixed;
        bottom: 23px;
        /* height: 40px; */
        width: 100%;
        padding: 0px;
        z-index: 999999;
        border-top: 1px solid #bdc3c7;
        background: #34495e;
    }
    .overall-progress-bar {
        margin-bottom: 0px;
    list-style: none;
    overflow: hidden;
    font-weight: 400;
    display: -webkit-box;
    display: flex;
    counter-reset: li;
    padding-inline-start: 0px;
}
.progress-bar__steps {
  /* background: #ddd;
  color: #666; */
  background: #34495e;
  color: #bdc3c7;
  width: 16%;
  position: relative;
  cursor: default;
  list-style-image: none;
  list-style-type: none;
  padding: 4px 5px;
  text-align: center;
}
@media screen and (min-width: 800px) {
  .progress-bar__steps {
    padding: 4px 0 4px 65px;
    text-align: left;
  }
}
@media screen and (min-width: 800px) {
  .progress-bar__steps:first-child {
    padding: 4px 0 4px 30px;
  }
}
@media screen and (min-width: 800px) {
  .progress-bar__steps:after {
    border-bottom: 50px solid transparent;
    border-top: 50px solid transparent;
    content: " ";
    display: block;
    height: 0;
    left: 100%;
    margin-top: -50px;
    position: absolute;
    top: 50%;
    width: 0;
    border-left: 30px solid #34495e;
    z-index: 2;
  }
}
@media screen and (min-width: 800px) {
  .progress-bar__steps:before {
    border-bottom: 50px solid transparent;
    border-top: 50px solid transparent;
    content: " ";
    display: block;
    height: 0;
    left: 100%;
    margin-top: -50px;
    position: absolute;
    top: 50%;
    width: 0;
    border-left: 30px solid #fff;
    z-index: 1;
    margin-left: 5px;
  }
}
.overall-progress-bar .current {
  background: #e67e22;
  color: #fff;
}
.overall-progress-bar .current:after {
  border-left: 30px solid #e67e22;
}

@media screen and (min-width: 800px) {
  .progress-bar__steps--numbers:before {
    content: counter(li) " ";
    counter-increment: li;
    margin-right: 15px;
    background: transparent;
    border: 1px solid #666;
    border-radius: 50%;
    display: inline-block;
    height: 20px;
    line-height: 18px;
    text-align: center;
    width: 20px;
  }
}
.current .progress-bar__steps--numbers:before {
  background: white;
  color: #7f8c8d;
}


    /* #progressbar {
        margin-bottom: 10px;
        overflow: hidden;
    }
#progressbar li {
  list-style-type: none;
  color: #99a2a8;
  font-size: 9px;
  width: calc(100%/6);
  float: left;
  position: relative;
}

#progressbar li span {
    width: 100px;
    height: 20px;
    border-radius: 4px;
}

#progressbar li:before {
  width: 30px;
  height: 30px;
  line-height: 30px;
  display: block;
  background: #eaf0f4;
  border-radius: 50%;
  margin: 0 auto 10px auto;
}
#progressbar li:after {
  content: '';
  width: 100%;
  height: 10px;
  background: #eaf0f4;
  position: absolute;
  left: -50%;
  top: 8px;
  z-index: -1;
}
#progressbar li:last-child:after {
  width: 150%;
}
#progressbar li.active {
  color: #5cb85c;
}
#progressbar li.active:before, #progressbar li.active:after {
  background: #5cb85c;
  color: white;
} */
    /*************/
    /*!

=========================================================
* Paper Bootstrap Wizard - v1.0.2
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-bootstrap-wizard
* Copyright 2017 Creative Tim (http://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/paper-bootstrap-wizard/blob/master/LICENSE.md)

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*/

    .wizard-container {
        padding-top: 100px;
        z-index: 3;
    }

    .btn.btn-fill {
        color: #ffffff;
        background-color: #66615b;
        opacity: 1;
        filter: alpha(opacity=100);
    }
    .btn.btn-fill:hover,
    .btn.btn-fill:focus,
    .btn.btn-fill:active,
    .btn.btn-fill.active,
    .open > .btn.btn-fill.dropdown-toggle {
        background-color: #484541;
        color: #ffffff;
        border-color: #484541;
    }
    .btn.btn-fill .caret,
    .navbar .navbar-nav > li > a.btn.btn-fill .caret {
        border-top-color: #ffffff;
    }

    .btn:hover,
    .btn:focus {
        outline: 0 !important;
    }
    .btn:active,
    .btn.active,
    .open > .btn.dropdown-toggle {
        -webkit-box-shadow: none;
        box-shadow: none;
        outline: 0 !important;
    }
    .btn.btn-icon {
        border-radius: 25px;
        padding: 7px 10px;
    }
    .btn.btn-icon i {
        margin-right: 0px;
    }
    .btn [class*="ti-"] {
        vertical-align: middle;
    }

    /* .btn-success {
        border-color: #7ac29a;
        color: #7ac29a;
    } */

    .btn-disabled {
        cursor: default;
    }

    .btn-simple {
        border: 0;
        padding: 7px 18px;
    }

    .btn-wd {
        min-width: 140px;
    }
    /*            Navigation menu                */
    .wizard-tab {
        width: 20%;
    }
    .nav-pills {
        background-color: #f3f2ee;
        position: absolute;
        width: 100%;
        height: 4px;
        top: 40px;
        text-align: center;
    }
    .nav-pills > li + li {
        margin-left: 0;
    }
    .nav-pills > li > a {
        padding: 0;
        max-width: 120px;
        margin: 0 auto;
        color: #34495e;
        border-radius: 50%;
        position: relative;
        top: -29px;
        z-index: 100;
        font-size: 14px;
    line-height: 3;
    }
    .nav-pills > li > a:after {
        content: "";
        width: 45px;
    height: 45px;
    border-radius: 50%;
    display: inline-block;
    position: absolute;
    right: 38px;
    top: 8px;
        transform: scale(0);
        transition: 0.2s all linear;
    }
    .nav-pills > li > a:hover,
    .nav-pills > li > a:focus {
        background-color: transparent;
        color: rgba(0, 0, 0, 0.2);
        outline: 0 !important;
        cursor: pointer;
    }
    .nav-pills > li.active > a:after {
        content: "";
        width: 45px;
    height: 45px;
    border-radius: 50%;
    display: inline-block;
    position: absolute;
    right: 38px;
    top: 8px;
        -webkit-transform: scale(1);
        -moz-transform: scale(1);
        -o-transition: scale(1);
        -ms-transform: scale(1);
        transform: scale(1);
        -webkit-transition: all 0.2s linear;
        -moz-transition: all 0.2s linear;
        -o-transition: all 0.2s linear;
        -ms-transition: all 0.2s linear;
        transition: all 0.2s linear;
    }
    .nav-pills > li.active > a,
    .nav-pills > li.active > a:hover,
    .nav-pills > li.active > a:focus {
        background-color: transparent;
        font-size: 15px;
        -webkit-transition: font-size 0.2s linear;
        -moz-transition: font-size 0.2s linear;
        -o-transition: font-size 0.2s linear;
        -ms-transition: font-size 0.2s linear;
        transition: font-size 0.2s linear;
    }
    .nav-pills > li.active > a .material-icons,
    .nav-pills > li.active > a:hover .material-icons,
    .nav-pills > li.active > a:focus .material-icons {
        color: #ffffff;
        /* font-size: 32px;
        top: 3px;
        left: 3px; */
        -webkit-transition: all 0.2s linear;
        -moz-transition: all 0.2s linear;
        -o-transition: all 0.2s linear;
        -ms-transition: all 0.2s linear;
        transition: all 0.2s linear;
    }

    .wizard-card .picture-container {
        position: relative;
        cursor: pointer;
        text-align: center;
    }
    .wizard-card .icon-circle {
        font-size: 20px;
        border: 3px solid #f3f2ee;
        text-align: center;
        border-radius: 50%;
        color: #00802b;
        font-weight: 600;
        width: 45px;
        height: 45px;
        background-color: #ffffff;
        margin: 0 auto;
        position: relative;
        top: 8px;
    }
    .wizard-card .icon-circle .material-icons {
        position: absolute;
        left: 7px;
    right: 0px;
    top: 7px;
    font-size: 26px;
        z-index: 1;
    }

    .wizard-card .nav-pills > li.active > a:after {
        background-color: #00802b;
    }
    .wizard-card .nav-pills > li.active > a {
        color: #00802b;
    }
    .wizard-card .nav-pills .icon-circle.checked {
        border-color: #00802b;
    }

    .progress-bar {
        float: left;
        width: 0%;
        height: 100%;
        font-size: 12px;
        line-height: 20px;
        color: #fff;
        text-align: center;
        background-color: #337ab7;
        -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        -webkit-transition: width 0.6s ease;
        -o-transition: width 0.6s ease;
        transition: width 0.6s ease;
    }
    .wizard-card .wizard-navigation .progress-bar {
        background-color: #00802b;
    }

    .wizard-card .tab-content {
        /* min-height: 435px; */
        padding: 120px 20px 10px;
    }
    .wizard-card .wizard-footer {
        padding: 0 15px 5px;
    }
    .wizard-card .wizard-navigation {
        position: relative;
    }
    .wizard-card .wizard-navigation .progress-with-circle {
        position: relative;
        top: 40px;
        z-index: 50;
        height: 4px;
    }
    .wizard-card .wizard-navigation .progress-with-circle .progress-bar {
        box-shadow: none;
        -webkit-transition: width 0.3s ease;
        -o-transition: width 0.3s ease;
        transition: width 0.3s ease;
    }

    @media (max-width: 768px) {
        .main .container {
            margin-bottom: 50px;
        }
    }
    @media (min-width: 768px) {
        .navbar-form {
            margin-top: 21px;
            margin-bottom: 21px;
            padding-left: 5px;
            padding-right: 5px;
        }

        .btn-wd {
            min-width: 140px;
        }
    }



    .sys-bg-inverse .table-striped > tbody > tr:nth-of-type(odd) {
        background-color: transparent;
    }
    #quoteWizard {
        min-height: 630px;
        height: 100%;
    }
    #quoteWizard .form-horizontal .form-group {
        margin-left: 0px;
        margin-right: 0px;
    }
    #quoteWizard .form-group {
    margin-top: 0px;
    margin-bottom: 10px;
}
#quoteWizard .form-group.md-outline {
    margin-top: 0px;
    margin-bottom: 16px;
    padding-right: 0px;
}
#quoteWizard .column-parent.col-sm-12 .form-horizontal .col-sm-4 .form-control {
    width: auto;
}
.quote-scrollable-pane {
    max-height: 450px;
    overflow-y: scroll;
    position: relative;
}
.packages-options, .quote-toggle-buttons {
    width: 100%;
}
.btn-group.quote-toggle-buttons {
    margin: 0px;
}
.packages-options .package,
.btn-group.quote-toggle-buttons > .btn {
    margin-bottom: 5px;
    padding: 10px 2.5px;
    border-width: 3px;
}

.packages-options .package.sys-bg-white {
    border: 3px solid #ecf0f1;
}

.packages-options .package,
.packages-options .package:first-child:not(:last-child):not(.dropdown-toggle),
.packages-options .package:not(:first-child):not(:last-child):not(.dropdown-toggle),
.packages-options .package:last-child:not(:first-child) {
    border-radius: 4px !important;
    width: calc(100% - 5px);
}
.packages-options .btn-group {
    margin-top: 0px;
    margin-bottom: 0px;
}
.packages-options .btn-group .btn {
    border-width: 0 !important;
    white-space: normal;
    text-align: left;
}
.packages-options .btn-group .btn b {
    vertical-align: sub;
}
.packages-options .btn-group .btn:hover {
    color: inherit;
}

.packages-options .btn-group .btn:hover:not(.active) i.package-selected-icon {
    color: #fdda4c;
}


.package .form-group.checkbox-form-group {
    width: 100%;
}

.package .form-group.checkbox-form-group label {
    color: #ffffff;
}
.package .form-group.checkbox-form-group:hover label {
    color: #ffffff;
}

.btn-group.quote-toggle-buttons > .btn{
    border-radius: 4px !important;
    margin-right: 10px;
    
    white-space: normal;
    min-height: 58px;
    display: flex;
    align-items: center;
    justify-content: space-around;
    padding: 8px;
}

.btn.infrastructure-option, .btn.btn.database-option {
    width: 30%;
}
.btn.customer-type-option {
    width: calc(50% - 5px);
}

.btn-group > .btn .sys-txt-md {
    line-height: 1.2em;
}

.btn-group.quote-toggle-buttons > .btn.infrastructure-option {
    /* border-radius: 4px !important; */
    min-height: 40px;
}

/* .btn-group.packages-options > .btn.package.active, */
.btn-group.quote-toggle-buttons > .btn.active{
    border: 3px solid #f1c40f !important;
}
.packages-options .package .package-selected-icon {
    /* color: #f3f2ee; */
    font-size: 24px;
}
.packages-options .package .btn.active .package-selected-icon {
    color: #f1c40f;
}

.packages-options .package .btn.active .package-selected-icon.sys-fg-warning {
    color: #e67e22;
}
.package .checkbox .checkbox-material {
    top: 1px;
}
.package.sys-fg-white .checkbox .checkbox-material .check {
    border: 2px solid #ecf0f1;
}
.package.sys-fg-white .checkbox input[type='checkbox']:checked + .checkbox-material .check,
.checkbox input[type='checkbox']:checked + .checkbox-material .check:before {
    color: #ffffff;
    border-color: #ffffff;
}
.noUi-horizontal {
    height: 10px;
    height: 3px;
    margin: 10px 0;
    border-radius: 3px;
}
.noUi-connect {
    border-radius: 3px;
    background-color: #0078d7;
}
.noUi-tooltip {
    left: 50%;
    border-radius: 4px;
    padding: 2px;
    text-align: center;
    white-space: nowrap;
    font-size: 12px;
}



/* Popover stuff */
.popover.textarea-popover {
            padding: 0px;
            border: 0px solid #fff;
            border-radius: 4px;
            max-width: 100%;
            resize: horizontal;
            /* overflow: auto; */
            width: 135px;
            /* transition: top 0.2s; */
         }

            .popover.textarea-popover .popover-textarea-content {
                height: 55px;
                width: 100%;
                padding-top: 0px;
            }

            .textarea-popover .popover-title {
               border-radius: 4px 4px 0 0;
               border-bottom-color: #f7f7f7;
               color:#2c3e50;
            }
         .textarea-popover .popover-footer {
            margin: 0;
            padding: 8px 14px;
            font-weight: 400;
            line-height: 18px;
            background-color: #F7F7F7;
            border-bottom: 1px solid #EBEBEB;
            border-radius: 0 0 4px 4px;
         }
         .popover.textarea-popover.bottom > .arrow:after, .popover.textarea-popover.bottom > .arrow {
            border-bottom-color: #f7f7f7;
         }

    .k-dropdown-wrap .k-input, .k-multiselect-wrap .k-input, .k-numeric-wrap .k-input, .k-picker-wrap .k-input, .k-selectbox .k-input, .k-textbox > input {
    line-height: 1.3;
    }
    .k-dropdown-wrap.k-state-default, .k-numeric-wrap.k-state-default, .k-picker-wrap.k-state-default {
    background-color: transparent;
    }
    .discount {
        cursor: pointer;
        margin-right: 7.5px;
        margin-left: 5px;
        margin-top: 3px;
    }
    .discount:hover, .discount.active:hover {
        color: #fdda4c;;
    }
    .discount.active {
        color: #e67e22;;
    }
    .infrastructure-pricing {
        display: flex;
        align-items: center;
        justify-content: space-around;
        height: 60px;
    }
    .form-group a.package-title {
        width: auto;
        display: inline;
    }
    .package-title-arrow {
        margin-left: -4px;
    }
    .item-name {
        white-space: normal;
    }
    .package .btn.active.disabled {
        opacity: 1;
    }
</style>
<style>
    .discount-amount {
        margin-right: 32px;
    }
    .discount-amount.discount-allowed {
        margin-right: 0px;
    }
    #lineItemsTotals {
        font-size: 12px !important;
    }
    .original-price {
        text-decoration: line-through;
    }
    .md-outline {
    position: relative !important;
    
}
.discount-type-option {
    width: 100%;
}
.discount-type-option .btn.active {
    background-color: #0078d7 !important;
    color: #ffffff !important;
}
.package-title {
    font-size: 14px;
}
.package-title:hover, .package-title:focus, .package-title:active {
    text-decoration: none;
    color: inherit;
}
.package .md-outline {
    margin-bottom: 0px !important;
}
.md-outline .form-control, .md-outline input, .md-outline input[type="text"], .md-outline input[type="password"], .md-outline input[type="email"], .md-outline input[type="url"], .md-outline input[type="time"], .md-outline input[type="date"], .md-outline input[type="datetime-local"], .md-outline input[type="tel"], .md-outline input[type="number"], .md-outline input[type="search-md"], .md-outline input[type="search"], .md-outline textarea {
    -webkit-box-sizing: border-box !important;
    box-sizing: border-box !important;
    background-color: #ffffff !important;
    border: 1px solid #dadce0 !important;
    border-radius: 4px !important;
    outline: none !important;
    -webkit-box-shadow: none !important;
    box-shadow: none !important;
    -webkit-transition: all .3s !important;
    transition: all .3s !important;
    background-position: unset !important;
    /* background: none !important; */
    background-image: none !important;
    margin: 0 !important;
    padding: 2px 5px !important;
    height: 25px;
}
.md-outline:not(.is-empty) label {
    position: absolute !important;
    top: -4px !important;
    left: 0px !important;
    padding-right: 5px !important;
    padding-left: 5px !important;
    font-size: 1.2rem !important;
    background: #ecf0f1 !important; 
    /* -webkit-transform: translateY(-5px) scale(0.8) !important;
    transform: translateY(-5px) scale(0.8) !important; */
    -webkit-transition: color .2s ease-out, -webkit-transform .2s ease-out !important;
    transition: color .2s ease-out, -webkit-transform .2s ease-out !important;
    transition: transform .2s ease-out, color .2s ease-out !important;
    transition: transform .2s ease-out, color .2s ease-out, -webkit-transform .2s ease-out !important;

    -webkit-transform: translateY(-5px) scale(0.8);
    transform: translateY(-5px) scale(0.8);
    background: rgb(255,255,255) !important;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#ecf0f1",GradientType=1) !important;
    z-index: 9;
}
.sys-bg-very-light-gray .md-outline:not(.is-empty) label {
    background: rgb(255,255,255) !important;
    background: -moz-linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    background: -webkit-linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    background: linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#ecf0f1",GradientType=1) !important;
}
.md-outline.is-empty label {
    position: absolute !important;
    top: -6px !important;
    left: 0px !important;
    padding-left: 5px !important;
    font-size: 1.2rem !important;
    color: #757575 !important;
    cursor: text !important;
    -webkit-transition: color .2s ease-out, -webkit-transform .2s ease-out !important;
    transition: color .2s ease-out, -webkit-transform .2s ease-out !important;
    transition: transform .2s ease-out, color .2s ease-out !important;
    transition: transform .2s ease-out, color .2s ease-out, -webkit-transform .2s ease-out !important;
    -webkit-transform: translateY(9px) !important;
    transform: translateY(9px) !important;
    -webkit-transform-origin: 0% 100% !important;
    transform-origin: 0% 100% !important;
    max-width: 100% !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    background: none !important;
    z-index: 9;
}
/* input[type="text"]:not(.browser-default)+label::after, input[type="password"]:not(.browser-default)+label::after, input[type="email"]:not(.browser-default)+label::after, input[type="url"]:not(.browser-default)+label::after, input[type="time"]:not(.browser-default)+label::after, input[type="date"]:not(.browser-default)+label::after, input[type="datetime"]:not(.browser-default)+label::after, input[type="datetime-local"]:not(.browser-default)+label::after, input[type="tel"]:not(.browser-default)+label::after, input[type="number"]:not(.browser-default)+label::after, input[type="search"]:not(.browser-default)+label::after, input[type="phone"]:not(.browser-default)+label::after, input[type="search-md"]+label::after, textarea.md-textarea+label::after {
    position: absolute !important;
    top: 65px !important;
    display: block !important;
    content: "" !important;
    opacity: 0 !important;
    -webkit-transition: 0.2s opacity ease-out,0.2s color ease-out !important;
    transition: 0.2s opacity ease-out,0.2s color ease-out !important;
} */
/* .md-outline label.active {
    left: 8px;
    padding-right: 5px;
    padding-left: 5px;
    font-weight: 500;
    background: #fff;
    -webkit-transform: translateY(-13px) scale(0.8);
    transform: translateY(-13px) scale(0.8);
} */
.md-outline.is-focused .form-control:not([readonly]), .md-outline input:focus:not([readonly]), .md-outline input[type="text"]:focus:not([readonly]), .md-outline input[type="password"]:focus:not([readonly]), .md-outline input[type="email"]:focus:not([readonly]), .md-outline input[type="url"]:focus:not([readonly]), .md-outline input[type="time"]:focus:not([readonly]), .md-outline input[type="date"]:focus:not([readonly]), .md-outline input[type="datetime-local"]:focus:not([readonly]), .md-outline input[type="tel"]:focus:not([readonly]), .md-outline input[type="number"]:focus:not([readonly]), .md-outline input[type="search-md"]:focus:not([readonly]), .md-outline input[type="search"]:focus:not([readonly]), .md-outline textarea:focus:not([readonly]) {
    border-color: #0078d7 !important;
    -webkit-box-shadow: inset 0 0 0 1px #0078d7 !important;
    box-shadow: inset 0 0 0 1px #0078d7 !important;
}
/* input:not([type]):focus:not([readonly]), input[type="text"]:not(.browser-default):focus:not([readonly]), input[type="password"]:not(.browser-default):focus:not([readonly]), input[type="email"]:not(.browser-default):focus:not([readonly]), input[type="url"]:not(.browser-default):focus:not([readonly]), input[type="time"]:not(.browser-default):focus:not([readonly]), input[type="date"]:not(.browser-default):focus:not([readonly]), input[type="datetime"]:not(.browser-default):focus:not([readonly]), input[type="datetime-local"]:not(.browser-default):focus:not([readonly]), input[type="tel"]:not(.browser-default):focus:not([readonly]), input[type="number"]:not(.browser-default):focus:not([readonly]), input[type="search"]:not(.browser-default):focus:not([readonly]), input[type="phone"]:not(.browser-default):focus:not([readonly]), input[type="search-md"]:focus:not([readonly]), textarea.md-textarea:focus:not([readonly]) {
    border-bottom: 1px solid #0078d7 !important;
    -webkit-box-shadow: 0 1px 0 0 #0078d7 !important;
    box-shadow: 0 1px 0 0 #0078d7 !important;
} */

.md-outline.is-focused .form-control:not([readonly])+label, .md-outline input:focus:not([readonly])+label, .md-outline input[type="text"]:focus:not([readonly])+label, .md-outline input[type="password"]:focus:not([readonly])+label, .md-outline input[type="email"]:focus:not([readonly])+label, .md-outline input[type="url"]:focus:not([readonly])+label, .md-outline input[type="time"]:focus:not([readonly])+label, .md-outline input[type="date"]:focus:not([readonly])+label, .md-outline input[type="datetime-local"]:focus:not([readonly])+label, .md-outline input[type="tel"]:focus:not([readonly])+label, .md-outline input[type="number"]:focus:not([readonly])+label, .md-outline input[type="search-md"]:focus:not([readonly])+label, .md-outline input[type="search"]:focus:not([readonly])+label, .md-outline textarea:focus:not([readonly])+label {
    color: #0078d7 !important;
    left: 3px !important;
    padding-right: 5px !important;
    padding-left: 5px !important;
    font-weight: 500 !important;
    /* background: #ecf0f1 !important; */
    -webkit-transform: translateY(-5px) scale(0.8) !important;
    transform: translateY(-5px) scale(0.8) !important;
    background: rgb(255,255,255) !important;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#ecf0f1",GradientType=1) !important;
}
.sys-bg-very-light-gray .md-outline input:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="text"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="password"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="email"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="url"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="time"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="date"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="datetime-local"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="tel"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="number"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="search-md"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline input[type="search"]:focus:not([readonly])+label, .sys-bg-very-light-gray .md-outline textarea:focus:not([readonly])+label {

    background: rgb(255,255,255) !important;
    background: -moz-linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    background: -webkit-linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    background: linear-gradient(0deg, rgba(255,255,255,1) 30%, rgba(236,240,241,1) 70%) !important;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#ecf0f1",GradientType=1) !important;
}
.md-outline .k-dropdown .k-dropdown-wrap .k-select, .md-outline .k-dropdown .k-dropdown-wrap {
    background: #ffffff;
}
.md-outline .input-group {
    background-color: #ffffff;
}
.md-outline .input-group .input-group-btn {
    padding: 2px 3px 0;
    cursor: pointer;
    vertical-align: middle;
    right: 10px;
}

@media (min-width: 1000px) {
.column-parent.col-sm-12 .form-horizontal .col-sm-4 .md-outline .form-control {
    height: 28px;
    padding: 2px 0 0 4px;
}
}
</style>
<style>
    .hint.md-outline {
        -webkit-box-shadow: 0 0 20px -3px rgba(0, 0, 0, 0.75) !important;
        box-shadow: 0 0 20px -3px rgba(0, 0, 0, 0.75) !important;
        position: absolute !important;
    }
    .placeholderGhost {
        border: 2px dashed #cccccc !important;
        border-radius: 4 !important;
        opacity: 0.5;
        margin-bottom: 10px;
    }
    .dragHandle, .removeField {
        display: none;
        height: 100%;
        width: 25px;
        float: right;
        position: absolute;
        top: 0px;
        text-align: center;
        z-index: 9;
        padding-top: 2px;
    }
    .dragHandle {
        right: 0px;
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
        cursor: move;
    }
    .removeField {
        right: 25px;
        cursor: pointer;
    }
</style>
<style>

.radio-list-group input[type=radio] {
	display:none;
}
.radio-list-group .list-group-item {
	position:relative;
	overflow:hidden;
	border-style:hidden;
}
.radio-list-group .list-group-item label {
	display:block;
	width:100%;
	font-weight:normal;
}
.radio-list-group .list-group-item input+span {
	position:absolute;
	top:0;
	right:0;
	left:0;
	bottom:0;
	width:100%;
	height:100%;
	border:1px solid #ddd;
	padding: 4px 15px;
	margin-bottom:-1px;
	z-index:1;
}
.radio-list-group .list-group-item input+span i.material-icons:before {
    vertical-align: text-bottom;
}
.radio-list-group .list-group-item input+span i.material-icons:before {
	content: "radio_button_unchecked";
	font-size:20px;
	line-height:20px;
	font-weight:bold;
}
.radio-list-group .list-group-item input:checked+span i.material-icons:before {
    content: "radio_button_checked";
}
.radio-list-group .list-group-item:hover input+span {
background-color:#f5f5f5
}
.radio-list-group .list-group-item input:checked+span {
color:#fff;background-color:#428bca;border-color:#428bca;
	z-index:10;
}
.info-fields-column .radio {
    height: 28px;
    display: inline-block;
    margin-right: 15px;
}
</style>
        <script src="js/UX_JS_jquery.min.js"></script>
        <script>
            $(".prodConfigOptionsWrapper .loading-cover").show();
            window.MSPointerEvent = null;
            window.PointerEvent = null;
        </script>
        <script type="text/javascript">
            WebFontConfig = {
                google: {
                    families: [
                        "Source+Sans+Pro:400,200,300,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic:latin",
                    ],
                },
            };
            (function() {
                var wf = document.createElement("script");
                wf.src = "https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";
                wf.type = "text/javascript";
                wf.async = "true";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(wf, s);
            })();
        </script>

        <script src="js/UX_JS_velocity.min.js"></script>
        <script src="js/UX_JS_kendo.all.min.js"></script>
        
    </head>

    <body data-column-layout="3col" style="padding-top:0px;">
        <div id="invisibleNode" style="display: none;"></div>
        <div id="invisibleToolbarNode" style="display: none;"></div>

        <nav
            id="fusion-toolbar"
            class="navbar navbar-default navbar-fixed-top navbar-controlbar sys-mg-b-5 fusion-top-toolbar"
        >
            <div class="container-fluid">
                <ul class="nav navbar-nav navbar-right sys-fg-primary">
                    <li class=" nav-item">
                        <a
                            href="#"
                            onclick="SAAS_QUOTE.infoFieldWindow.center().open()"
                            class="text-primary fusion-main-page-buttons nav-link fusion-current-account"
                        >
                            <i class="material-icons">add_box</i>
                        </a>
                    </li>
                    <li class=" nav-item">
                        <a
                            href="#"
                            onclick="SAAS_QUOTE.initEditLayout()"
                            class="text-primary fusion-main-page-buttons nav-link fusion-current-account"
                        >
                            <i class="material-icons">edit</i>
                        </a>
                    </li>
                    <li class=" nav-item">
                        <a
                            href="#"
                            class="text-primary fusion-main-page-buttons nav-link fusion-current-account"
                        >
                            <i class="material-icons">notifications</i> <span class="badge sys-bg-danger">8</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="wrapper" class="toggled">
            <div class="container-fluid" id="main-container">
                <div class="row sys-mg-t-5">
                    <div class="col-sm-12 col-xs-12 column-parent sys-mg-t-15">
                        <div class="panel sys-bd-off sys-box-shadow-off">
                            <div class="panel-body main-column">
                                <div class="row widget layout-widget" id="">
                                    <div class="col-md-9 col-sm-8 ">
                                        <div class="panel sys-bd-off">
                                            <!--      Wizard container        -->
                                            <div class="card wizard-card sys-pd-b-10 sys-pd-t-10" id="quoteWizard">
                                                <form action="" method="">
                                                    <div class="wizard-navigation">
                                                        <div class="progress-with-circle">
                                                            <div
                                                                class="progress-bar"
                                                                role="progressbar"
                                                                aria-valuenow="1"
                                                                aria-valuemin="0"
                                                                aria-valuemax="4"
                                                                style="width: 15%;"
                                                            ></div>
                                                        </div>
                                                        <ul data-template="quoteStepsTemplate" data-bind="source: activeSections"></ul>
                                                        
                                                        <!-- <ul>
                                                            <li>
                                                                <a href="#info" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">person_pin</i>
                                                                    </div>
                                                                    Quote information
                                                                </a>
                                                            </li>
                                                            <li data-bind="visible: productSuiteActive">
                                                                <a href="#packages" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">apps</i>
                                                                    </div>
                                                                    Product suite
                                                                </a>
                                                            </li>
                                                            <li data-bind="visible: additionalSoftwareActive">
                                                                <a href="#additional" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">queue_play_next</i>
                                                                    </div>
                                                                    Additional software
                                                                </a>
                                                            </li>
                                                            <li data-bind="visible: isvSoftwareActive">
                                                                <a href="#isv" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">power</i>
                                                                    </div>
                                                                    ISV software
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a href="#infrastructure" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">dns</i>
                                                                    </div>
                                                                    Infrastructure
                                                                </a>
                                                            </li>
                                                            <li data-bind="visible: edducationActive">
                                                                <a href="#education" data-toggle="tab">
                                                                    <div class="icon-circle">
                                                                        <i class=" material-icons">dns</i>
                                                                    </div>
                                                                    Education
                                                                </a>
                                                            </li>
                                                        </ul>
                                                     -->
                                                    </div>
                                                    <div class="tab-content">
                                                        <div class="tab-pane " id="info">
                                                            <div class="row quote-scrollable-pane">
                                                                <div class="col-xs-12">
                                                                    <div class="form-horizontal">

                                                                        <div class="row">
                                                                            <div class="col-sm-6 info-fields-column"
                                                                            id="quoteInformationColumn1" data-template="infoFieldParentTemplate" data-bind="source: quoteInformationColumn1"></div>
                                                                            <div class="col-sm-6 info-fields-column" 
                                                                            id="quoteInformationColumn2" data-template="infoFieldParentTemplate" data-bind="source: quoteInformationColumn2"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="tab-pane " id="productSuite" data-bind="visible: productSuiteActive">
                                                            
                                                            <div class="row quote-scrollable-pane">
                                                                <div class="col-xs-12 other-column-width">
                                                                    <div class="packages-options ">
                                                                        <div class="row">
                                                                            <div class="col-xs-12">
                                                                                <h3 class="sys-mg-off-t">
                                                                                    Syspro software
                                                                                </h3>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row" data-template="packageTemplate" data-bind="source: productSuite"></div>

                                                                        <div class="row">
                                                                            <div class="col-sm-6">
                                                                                <div class="sys-fg-white package sys-bg-inverse">
                                                                                    <div class="row">
                                                                                        <div class="col-sm-1 text-left" data-toggle="tooltip" 
                                                                                        data-tooltip="tooltip" data-container="body"
                                                                                        data-placement="auto top"
                                                                                        data-container="body" title="'Foundation' is a mandatory package">
                                                                                            <div class="btn-group" data-toggle="buttons" >
                                                                                                <label class="btn sys-pd-l-5 sys-pd-off-t sys-pd-off-b sys-pd-off-r active disabled"
                                                                                                >
                                                                                                <input type="checkbox" autocomplete="off" checked="checked" disabled>
                                                                                                <i class="material-icons package-selected-icon pull-left sys-fg-gray sys-fg-warning"
                                                                                                >check_circle</i>
                                                                                                
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-sm-5 text-left">
                                                                                            <a href="" class="package-title" data-toggle="tooltip" 
                                                                                            data-tooltip="tooltip" data-container="body"
                                                                                            data-placement="top" title="Download details document">
                                                                                                <i class="material-icons sys-fg-white sys-txt-sm">description</i>
                                                                                            </a>
                                                                                            <a href="#foundationsDetails" role="button" data-toggle="collapse" class="package-title sys-fg-white sys-mg-r-5" aria-expanded="false" aria-controls="foundationsDetails" 
                                                                                            data-toggle="tooltip" 
                                                                                            data-tooltip="tooltip" data-container="body"
                                                                                            data-placement="top" title="View details">
                                                                                                <b>Foundation</b>
                                                                                                <!-- <i class="material-icons sys-fg-white sys-txt-sm"
                                                                                                >info</i> -->
                                                                                                <i class="material-icons sys-txt-sm sys-fg-white package-title-arrow">expand_more</i>
                                                                                            </a>
                                                                                            
                                                                                        </div>
                                                                                        <div class="col-sm-4 col-sm-offset-2 text-right">
                                                                                            <small class="original-price sys-fg-danger">$18.00</small>
                                                                                            <b>$14.00</b>
                                                                                            <i class="material-icons sys-fg-light-gray sys-txt-sm pull-right discount active" data-toggle="popover" title="Apply discount">assignment_returned</i>
                                                                                        </div>
                                                                                        <div class="col-xs-12 text-left sys-pd-t-10 collapse" id="foundationsDetails">
                                                                                            <ul>
                                                                                                <li>System Foundation</li>
                                                                                                <li>System Administration</li>
                                                                                                <li>Report Writer</li>
                                                                                                <li>Reporting Services</li>
                                                                                                <li>Office Automation</li>
                                                                                                <li>Contact Management</li>
                                                                                                <li>Executive Dashboards</li>
                                                                                                <li>Interface System</li>
                                                                                            </ul>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-sm-6">
                                                                                <div class=" sys-fg-white  package sys-bg-inverse">
                                                                                    <div class="row">
                                                                                        <div class="col-sm-1 text-left">
                                                                                            <div class="btn-group" data-toggle="buttons">
                                                                                                <label class="btn sys-pd-l-5 sys-pd-off-t sys-pd-off-b sys-pd-off-r">
                                                                                                <input type="checkbox" autocomplete="off">
                                                                                                <i class="material-icons package-selected-icon pull-left sys-fg-white">check_circle</i>
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col-sm-5 text-left">
                                                                                            <a href="" class="package-title" data-toggle="tooltip" 
                                                                                            data-tooltip="tooltip" data-container="body"
                                                                                            data-placement="top" title="Download details document">
                                                                                                <i class="material-icons sys-fg-white sys-txt-sm">description</i>
                                                                                            </a>
                                                                                            <a href="#foundationsPlusDetails" role="button" data-toggle="collapse" class="package-title sys-fg-white sys-mg-r-5" aria-expanded="false" aria-controls="foundationsPlusDetails" 
                                                                                            data-toggle="tooltip" 
                                                                                            data-tooltip="tooltip" data-container="body"
                                                                                            data-placement="top" title="View details">
                                                                                                <b>Foundation+</b>
                                                                                                <!-- <i class="material-icons sys-fg-white sys-txt-sm"
                                                                                                >info</i> -->
                                                                                                <i class="material-icons sys-txt-sm sys-fg-white package-title-arrow">expand_more</i>
                                                                                            </a>
                                                                                            
                                                                                        </div>

                                                                                        <div class="col-sm-4 col-sm-offset-2 text-right">
                                                                                            <b>$14.00</b>
                                                                                            <i class="material-icons sys-fg-light-gray sys-txt-sm pull-right discount" data-toggle="popover" title="Apply discount">assignment_returned</i>
                                                                                        </div>
                                                                                        <div class="col-xs-12 text-left sys-pd-t-10 sys-pd-l-20 collapse" id="foundationsPlusDetails">
                                                                                            <div class="form-group checkbox-form-group sys-mg-t-5">
                                                                                                <div class="checkbox sys-pd-t-5 sys-mg-off-t">
                                                                                                    <label class="sys-fg-white">
                                                                                                        <input
                                                                                                            type="checkbox"
                                                                                                            id="sommat"
                                                                                                            checked="checked"
                                                                                                        />
                                                                                                        SYSPRO Analytics
                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group checkbox-form-group sys-mg-t-5">
                                                                                                <div class="checkbox sys-pd-t-5 sys-mg-off-t">
                                                                                                    <label class="sys-fg-white">
                                                                                                        <input
                                                                                                            type="checkbox"
                                                                                                            id="sommat"
                                                                                                            checked="checked"
                                                                                                        />
                                                                                                        Process Modelling
                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group checkbox-form-group sys-mg-t-5">
                                                                                                <div class="checkbox sys-pd-t-5 sys-mg-off-t">
                                                                                                    <label class="sys-fg-white">
                                                                                                        <input
                                                                                                            type="checkbox"
                                                                                                            id="sommat"
                                                                                                            checked="checked"
                                                                                                        />
                                                                                                        Workflow Services Professional
                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group checkbox-form-group sys-mg-t-5">
                                                                                                <div class="checkbox sys-pd-t-5 sys-mg-off-t">
                                                                                                    <label class="sys-fg-white">
                                                                                                        <input
                                                                                                            type="checkbox"
                                                                                                            id="sommat"
                                                                                                            checked="checked"
                                                                                                        />
                                                                                                        e.net System Manager
                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-group checkbox-form-group sys-mg-t-5">
                                                                                                <div class="checkbox sys-pd-t-5 sys-mg-off-t">
                                                                                                    <label class="sys-fg-white">
                                                                                                        <input
                                                                                                            type="checkbox"
                                                                                                            id="sommat"
                                                                                                            checked="checked"
                                                                                                        />
                                                                                                        Document Flow Manager
                                                                                                    </label>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                                                                             
                                                                        <div class="row">
                                                                            <div class="col-xs-12">
                                                                                <h3 class="">
                                                                                    API Services
                                                                                </h3>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row" data-template="packageTemplate" data-bind="source: apiServices"></div>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="additionalSoftware" data-bind="visible: additionalSoftwareActive">

                                                            <div class="row quote-scrollable-pane">
                                                                <div class="col-xs-12 other-column-width">
                                                                    <div class="packages-options ">
                                                                        <div class="row" data-template="packageTemplate" data-bind="source: additionalSoftware"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="isvSoftware" data-bind="visible: isvSoftwareActive">
                                                            <div class="row">
                                                                <div class="col-sm-4 col-xs-12">
                                                                    <div class="form-group md-outline">
                                                                    <!-- <p class="lead text-center"> -->
                                                                        <!-- A note about <b>Independent Software Vendors.</b> -->
                                                                        <input class="form-control isv-filter" type="text" id="isvFilter" placeholder="Filter ISVs..." />
                                                                    </div>
                                                                    <!-- </p> -->
                                                                </div>
                                                            </div>
                                                            <div class="row quote-scrollable-pane">
                                                                <div class="col-xs-12 other-column-width">
                                                                    <div class="packages-options ">
                                                                        <div class="row" data-template="packageTemplate" data-bind="source: isvSoftware"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane" id="infrastructure">

                                                            <div class="row quote-scrollable-pane">
                                                                <div class="col-xs-12">
                                                                    <div class="form-horizontal">
                                                                        <div class="row">
                                                                            <div class="col-sm-12 col-md-10 col-md-offset-1" data-template="infrastructureItemTemplate" data-bind="source: infrastructure"></div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane " id="education" data-bind="visible: educationActive"></div>
                                                    </div>
                                                    <div class="wizard-footer">
                                                        <div class="pull-right">
                                                            <input
                                                                type="button"
                                                                class="btn btn-next btn-primary btn-wd"
                                                                name="next"
                                                                value="Next"
                                                            />
                                                            <input
                                                                type="button"
                                                                class="btn btn-finish btn-primary btn-wd"
                                                                name="finish"
                                                                value="Finish"
                                                            />
                                                        </div>

                                                        <div class="pull-left">
                                                            <input
                                                                type="button"
                                                                class="btn btn-previous btn-default btn-wd sys-bg-gray sys-fg-white"
                                                                name="previous"
                                                                value="Previous"
                                                            />
                                                        </div>
                                                        <div class="clearfix"></div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- wizard container -->
                                    </div>
                                    <div class="col-md-3  col-sm-4">
                                        <div class="panel sys-bd-off sys-bg-inverse sys-fg-white" id="finalQuoteCard">
                                            <div class="loading-cover"><span class="spinner"></span></div>
                                            <div class="panel-body sys-pd-15">
                                                <a href="#quoteDetails" data-toggle="collapse" class="sys-fg-info " aria-expanded="false" aria-controls="quoteDetails">Quote ZX000011928273 details <i class="material-icons sys-txt-sm">expand_more</i></a>
                                                <div id="quoteDetails" class="row collapse" data-bind="visible: productDetails.isVisible">
                                                    <div class="col-xs-12">
                                                        <table
                                                            class="table table-borderless table-condensed table-striped sys-mg-b-5 sys-mg-t-5 sys-txt-md"
                                                        >
                                                            <tr>
                                                                <td>Quote ID</td>
                                                                <td>ZX000011928273</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Quote version</td>
                                                                <td>v4</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Last edited</td>
                                                                <td>12 May 2020</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Last edited by</td>
                                                                <td>Han Solo</td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <hr class="sys-mg-t-10 sys-mg-b-10" />
                                                        <h4 class="sys-mg-b-15 clearfix sys-mg-t-5">
                                                            <span class="pull-left">Number of users</span
                                                            ><span class="pull-right">42</span>
                                                        </h4>
                                                        <h4 class="sys-mg-b-5 clearfix sys-mg-t-5">
                                                            <span class="pull-left">Per user cost</span
                                                            ><span class="pull-right">$56.00</span>
                                                        </h4>
                                                        <a href="#costDetails" data-toggle="collapse" class="sys-fg-info " aria-expanded="false" aria-controls="costDetails">Cost breakdown <span class="sys-txt-sm">( per user / total )</span> <i class="material-icons sys-txt-sm">expand_more</i></a>
                                                    </div>
                                                </div>
                                                
                                                <div id="costDetails" class="row collapse in ">
                                                    <div class="col-xs-12">
                                                        <table
                                                            class="table table-borderless table-condensed table-striped sys-mg-b-5 sys-mg-t-5"
                                                            id="lineItemsTotals"
                                                        >
                                                            <tbody data-template="lineItemTotalsTemplate" data-bind="source: productSuite"></tbody>
                                                            <tbody data-template="lineItemTotalsTemplate" data-bind="source: apiServices"></tbody>
                                                            <tbody data-template="lineItemTotalsTemplate" data-bind="source: additionalSoftware"></tbody>
                                                            <tbody data-template="lineItemTotalsTemplate" data-bind="source: isvSoftware"></tbody>
                                                            <!-- <tr>
                                                                <td>Foundation</td>
                                                                <td class="text-right">
                                                                    <small class="original-price sys-fg-danger sys-mg-r-5">$40 / $600</small>
                                                                    $32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Foundation+</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Financials</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Distribution</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>POS</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Espresso</td>
                                                                <td class="text-right">
                                                                    <small class="original-price sys-fg-danger sys-mg-r-5">$40 / $600</small>
                                                                    $32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>Bartender</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr>
                                                            <tr>
                                                                <td>SQL on Linux</td>
                                                                <td class="text-right">$32 / $500</td>
                                                            </tr> -->
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <!-- <h4 class="sys-mg-b-15 clearfix sys-mg-t-10">
                                                            <span class="pull-left">Service charge</span
                                                            ><span class="pull-right">$560.00</span>
                                                        </h4> -->
                                                        <h4 class="sys-mg-b-15 clearfix sys-mg-t-10">
                                                            <span class="pull-left">Total discount</span
                                                            ><span class="pull-right sys-fg-danger" data-bind="text: discountGrandTotalWithCurrency">- $140.00</span>
                                                        </h4>
                                                        <h3 class="sys-mg-b-15 clearfix sys-mg-t-5">
                                                            <span class="pull-left">Total</span
                                                            ><span class="pull-right" data-bind="text: grandTotalWithCurrency"></span>
                                                        </h3>
                                                        <button
                                                            id="createQuote"
                                                            class="btn btn-block btn-primary btn-lg sys-txt-lg sys-600"
                                                            type="button"
                                                        >
                                                            Generate quote
                                                        </button>
                                                        <hr class="sys-mg-t-10 sys-mg-b-10"/>
                                                        <button
                                                            id="createQuote"
                                                            class="btn btn-block btn-success btn-md sys-txt-md sys-500"
                                                            type="button"
                                                        >
                                                            Save & continue later
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="statusBar sys-bg-inverse" style="display: block;"><span class="status-message sys-fg-very-light-gray">The OUTDOORS Company (EDU1)           TUESDAY 8   JANUARY 2019</span></div>
        </div>

        <div id="quoteOverallProgress">
            <!-- <ul id="progressbar">
                <li class="active">
                    <span class="sys-bg-success sys-fg-white">Step 1</span>
                </li>  
                <li>Step 2</li> 
                <li>Step 3</li>
                <li>Step 4</li> 
                <li>Step 5</li>
                <li>Step 6</li>                 
            </ul> -->

            <ol class="overall-progress-bar">
                <li class="progress-bar__steps">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">A step</span>
                </li>
                <li class="progress-bar__steps current">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">Generate quote</span>
                </li>
                <li class="progress-bar__steps">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">A step</span>
                </li>
                <li class="progress-bar__steps">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">A step</span>
                </li>
                <li class="progress-bar__steps">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">A step</span>
                </li>
                <li class="progress-bar__steps">
                    <span class="progress-bar__steps--numbers"></span>
                    <span class="progress-bar__steps--text">A step</span>
                </li>
            </ol>
        </div>
        <script src="js/UX_JS_SYSPROUXQueryUi.js"></script>
        <script src="js/bundle.js"></script>
        <script src="js/UX_JS_bootstrap.js"></script>
        <script src="js/UX_JS_bootstrap-3-typeahead.js"></script>
        <script src="js/nouislider.min.js"></script>
        <script src="js/UX_JS_forms.js"></script>
        <script src="js/jquery.bootstrap.wizard.js"></script>
        <!-- <script src="js/paper-bootstrap-wizard.js"></script> -->
        <script src="js/UX_JS_bootstrap-datepicker.js"></script>
        <script src="js/perfect-scrollbar.js"></script>
        
        <div id="kendoUIWindows">
            <div id="infoFieldWindow">
                <div class="container-fluid window-container">
            
                    <div class="row window-content data-section-pane-1">
                        <div class="col-sm-6 col-sm-offset-3" id="data-fields">
                            <p class="sys-mg-t-5 sys-mg-b-10 lead text-center">
                                Select an info field to add
                            </p>
                            <div class="drilldown-menu-wrapper">
                                <!-- <div class="drilldown-loading-cover"><span class="spinner"></span></div> -->
                                
                                <div class="sys-mg-t-5">
                                    <div class="list-group radio-list-group">
                                    <div class="list-group radio-list-group" data-template="infoFieldOptionTemplate" data-bind="source: infoFields"></div>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <div class="row window-footer">
                        <div class="col-sm-12">
                            <span id="addDataButtonPopoverWrap" class="pull-right">
                                <button onclick="SAAS_QUOTE.addInfoField()" type="button" id="addInfoFieldButton" class="btn btn-primary pull-right sys-mg-l-5"
                                 disabled>Add field</button>
                            </span>                            
                            <button onclick="SAAS_QUOTE.infoFieldWindow.close()" type="button" class="btn btn-default pull-right closeWindow">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/x-kendo-template" id="packageTemplate">            
            <div data-bind="css: { col-sm-6: isProductSuite, col-sm-12: isNotProductSuite }">
                <div 
                    class="package"
                    data-bind="css: { 
                        sys-bg-inverse: sysbginverse,
                        sys-bg-success: sysbgsuccess,
                        sys-bg-info: sysbginfo,
                        sys-bg-primary: sysbgprimary,
                        sys-bg-very-light-gray: sysbgverylightgray,
                        sys-fg-inverse: sysfginverse,
                        sys-fg-white: sysfgwhite,
                    }"
                >
                    <div class="row">
                        #if (mandatory) {#
                            <div class="col-sm-1 text-left" data-toggle="tooltip" data-tooltip="tooltip" data-container="body" data-placement="auto top" title="" data-original-title="'Foundation' is a mandatory package">
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn sys-pd-l-5 sys-pd-off-t sys-pd-off-b sys-pd-off-r">
                                    <input type="checkbox" autocomplete="off" checked="true" disabled>
                                    <i class="material-icons package-selected-icon pull-left sys-fg-warning">check_circle</i>
                                    
                                    </label>
                                </div>
                            </div>
                        #} else {#
                            <div class="col-sm-1 text-left">
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn sys-pd-l-5 sys-pd-off-t sys-pd-off-b sys-pd-off-r" data-bind="css: { 
                                        active: isSelected,
                                    }">
                                    <input type="checkbox" autocomplete="off" data-bind="checked: isSelected">
                                    <i class="material-icons package-selected-icon pull-left" data-bind="css: { 
                                        sys-fg-gray: sysfginverse,
                                        sys-fg-white: sysfgwhite,
                                    }">check_circle</i>
                                    
                                    </label>
                                </div>
                            </div>
                        #}#
                        <div class="col-sm-5 text-left">
                            <a href="#: detailsLink #" class="package-title" data-toggle="tooltip" 
                            data-tooltip="tooltip" data-container="body"
                            data-placement="top" title="Download details document">
                                <i class="material-icons sys-txt-sm" data-bind="css: { 
                                    sys-fg-inverse: sysfginverse,
                                    sys-fg-white: sysfgwhite,
                                }">description</i>
                            </a>
                            #if (data.subItems && data.subItems.length) {#
                                <a href="\\##: id #Details" role="button" data-toggle="collapse" class="package-title sys-mg-r-5" aria-expanded="false" aria-controls="#: id #Details"
                                data-toggle="tooltip" 
                                    data-tooltip="tooltip" data-container="body"
                                    data-placement="top" title="View details" data-bind="css: { 
                                        sys-fg-inverse: sysfginverse,
                                        sys-fg-white: sysfgwhite,
                                    }">
                                    <b>#: name #</b>
                                    <!-- <i class="material-icons sys-txt-sm" data-bind="css: { 
                                        sys-fg-inverse: sysfginverse,
                                        sys-fg-white: sysfgwhite,
                                    }"
                                    >info</i> -->
                                    <i class="material-icons sys-txt-sm package-title-arrow" data-bind="css: { 
                                        sys-fg-inverse: sysfginverse,
                                        sys-fg-white: sysfgwhite,
                                    }">expand_more</i>
                                </a>
                            #} else {#
                                <b>#: name #</b>
                            #}#
                        </div>

                        <div class="col-sm-2">
                            #if (hasOwnUserCount) {#
                                <div class="form-group md-outline">
                                    <input
                                        type="number"
                                        min="0"
                                        max="2000"
                                        step="10" style="max-width: 70px;"
                                        id="#: name #UserCount"
                                        name="#: name #UserCount"
                                        class="form-control"
                                        data-bind="value: userCount"                                     
                                    />
                                    <label
                                        for="#: name #UserCount"
                                        class=""
                                        >Users </label
                                    >
                                </div>
                            #}#
                        </div>
                        <div class="col-sm-2">
                            <span 
                                class="pull-left"
                                data-toggle="tooltip" 
                                data-tooltip="tooltip" 
                                data-container="body"
                                data-placement="top" 
                                title="Additional environments">
                                <i class="material-icons sys-txt-sm">help</i>
                            </span>
                            <div class="form-group checkbox-form-group sys-mg-off-b sys-mg-t-2 sys-pd-l-10 sys-pd-off-r package-selected-check pull-left" style="width: auto !important">
                                <div class="checkbox sys-mg-off">
                                    <label class="sys-fg-primary">
                                        Test
                                        <input type="checkbox" id=""">
                                    </label>
                                </div>
                            </div>
                            <div class="form-group checkbox-form-group sys-mg-off-b sys-mg-t-2 sys-pd-l-10 sys-pd-off-r package-selected-check pull-left" style="width: auto !important">
                                <div class="checkbox sys-mg-off">
                                    <label class="sys-fg-primary">
                                        Dev
                                        <input type="checkbox" id=""">
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2 text-right">
                            <span data-bind="visible: discount.hasDiscount">
                                <small class="original-price sys-fg-danger" data-bind="text: totalNetCostWithCurrency"></small>
                            </span>                           
                            <b data-bind="text: currency"></b><b class="discount-amount" data-bind="text: totalCost, css: { discount-allowed: discount.discountAllowed }"></b>
                            <i class="material-icons sys-fg-light-gray sys-txt-sm pull-right discount" 
                                data-toggle="popover" 
                                title="Apply discount"
                                data-content='<div class="row sys-mg-t-10"><div class="col-xs-12"><div class="md-outline"><input type="number" max="#: discount.max #" class="form-control discount-amount-input"></input></div><span class="sys-txt-md sys-fg-inverse">max #: discount.max #%</span></div></div>'
                                data-bind="visible: discount.discountAllowed, css:{active: discount.hasDiscount}">assignment_returned</i>
                            <span class="hidden-discount-field" style="display: none;">
                                <input type="text" class="discount-type-value" data-bind='value: discount.type'></input>
                            <input type="number" max="#: discount.max #" class="form-control discount-value" data-bind='value: discount.value'></input>
                            </span>
                        </div>
                        #if (data.subItems && data.subItems.length) {#
                            <div class="col-xs-12 text-left sys-pd-t-10 collapse" id="#: id #Details">
                                <ul>
                                    #if (isPlusPackage) {#
                                        #= SAAS_QUOTE.renderPlusPackageSubItemsTemplate(subItems) #
                                    #} else {#
                                        #   $.each(subItems, function (index, item) {
                                                # <li>${item}</li>  #                        
                                            }); 
                                        #
                                    #}#
                                </ul>
                            </div>
                        #}#
                    </div>
                </div>
            </div>

        </script>

        <script id="plusPackageSubItemsTemplate" type="text/x-kendo-template">
            # $.each(data.subItems, function (index, item) {
                   # <p>${item}</p>  #                        
              }); 
            #
        </script>

        <script id="lineItemTotalsTemplate" type="text/x-kendo-template">
            <tr data-bind="visible: isActive">
                <td>#: name #</td>
                <td class="text-right">
                    <small data-bind="visible: discount.hasDiscount" class="original-price sys-fg-danger sys-mg-r-5">
                        <span data-bind="text: perUserCostWithCurrency"></span> / <span data-bind="text: totalNetCostWithCurrency"></span>
                    </small>
                    <span data-bind="text: perUserCostWithCurrencyAndDiscount"></span> / <span data-bind="text: totalCostWithCurrency"></span>
                </td>
            </tr>
        </script>

        <script id="quoteStepsTemplate" type="text/x-kendo-template">
            <li class="wizard-tab" data-bind="style: { width: wizardTabsWidth }">
                <a href="\\##: id #" data-toggle="tab">
                    <div class="icon-circle">
                        <i class=" material-icons">#: icon #</i>
                    </div>
                    #: name #
                </a>
            </li>
        </script>
        <script id="infoFieldParentTemplate" type="text/x-kendo-template">
            #= SAAS_QUOTE.renderInfoFieldTemplate(data, data.uid) #
        </script>
        
        <script id="infoFieldTemplate" type="text/x-kendo-template">
            #: isOutline() #
            #: isEmpty() #
            <div class="form-group #if ( isEmpty() ) {# is-empty #}# #if ( isOutline() ) {# md-outline #}# " data-guid="#: id #">
                <span class="dragHandle sys-bg-primary"><i class="material-icons sys-fg-white">drag_indicator</i></span>
                <span class="removeField sys-bg-danger"><i class="material-icons sys-fg-white">delete_forever</i></span>
                #if ( type === 'text' ) {#
                    <input type="text" class="form-control" id="#: id #" name="#: name #" #if ( required ) {# required #}# data-bind="value: value" #: readonly # />
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'dropdownlist' ) {#
                    <textarea rows="3" class="form-control" id="#: id #" name="#: name #" data-bind="value: default" #: readonly # #if ( required ) {# required #}# />
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'textarea' ) {#
                    <textarea rows="3" class="form-control" id="#: id #" name="#: name #" data-bind="value: default" #if ( required ) {# required #}# #: readonly # />
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'radio' ) {#
                    <div class="syspro-entry-content">
                        # $.each(data.options, function (index, option) {
                            # <div class="radio">
                                <label class=" sys-fg-inverse  customer-type-option sys-bg-white text-center">
                                    <input type="radio" name="quote_type" autocomplete="off" value="newquote"> 
                                    <b class="sys-txt-md">New Quote</b>
                                </label>
                            </div>  #                        
                        }); 
                        #
                    </div>
                #} else if ( type === 'radioButton' ) {#
                    <div class="syspro-entry-content">
                        # $.each(data.options, function (index, option) {
                            # <div class="radio">
                                <label class=" sys-fg-inverse  customer-type-option sys-bg-white text-center">
                                    <input type="radio" name="quote_type" autocomplete="off" value="newquote"> 
                                    <b class="sys-txt-md">New Quote</b>
                                </label>
                            </div>  #                        
                        }); 
                        #
                    </div>
                #} else if ( type === 'number' ) {#
                    <input type="number" class="form-control" id="#: id #" name="#: name #" data-bind="value: default" #if ( required ) {# required #}# #: readonly # />
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'date' ) {#
                    <input type="text" class="form-control date" id="#: id #" name="#: name #" data-bind="value: default" #if ( required ) {# required #}# />
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'select' ) {#
                    <select class="form-control" id="#: id #" name="#: name #" #if ( required ) {# required #}# data-bind="value: default">
                        # $.each(data.options, function (index, option) {
                            # <option value="${option.value}">${option.label}</option>  #                        
                        }); 
                        #
                    </select>
                    <label for="#: id #" class="">
                        <span>#: label #</span>
                    </label>
                #} else if ( type === 'browse' ) {#        
                
                #}#
            </div>
        </script>
        <!-- <script id="radioButtonItemTemplate" type="text/x-kendo-template">
            <label class="btn btn-default sys-fg-inverse infrastructure-option sys-bg-white text-center">
                <input type="radio" name="#: name #" autocomplete="off" value="#: value #" data-bind="checked: selectedOption"> 
                <b class="sys-txt-md">#: label #</b>
            </label>
        </script> -->
        <script id="infrastructureItemTemplate" type="text/x-kendo-template">
            <div class="form-group is-empty ">
                <label for="#: id #" class="col-md-3 control-label sys-mg-t-5 sys-pd-t-5">
                    <span>#: label #</span>
                    <p class="sys-mg-t-5">
                        <a href="#: detailsLink #" class="package-title" data-toggle="tooltip" 
                        data-tooltip="tooltip" data-container="body"
                        data-placement="top" title="Download details document">
                            <i class="material-icons sys-fg-primary">description</i>
                        </a>
                    </p>
                </label>
                #if ( type === 'text' ) {# 
                #} else if ( type === 'radioButton' ) {#                             
                    
                    <div class="col-md-7 syspro-entry-content">
                        <div class="btn-group quote-toggle-buttons" data-toggle="buttons">
                            #   $.each(data.options, function (index, item) { #
                                    <label class="btn btn-default sys-fg-inverse infrastructure-option sys-bg-white text-center">
                                        <input type="radio" name="#: name #" autocomplete="off" value="${item.value}" data-bind="checked: selectedOption"> 
                                        <b class="sys-txt-md">${item.label}</b>
                                    </label>                       
                                # }); 
                            #
                        </div>
                        
                    </div>
                    
                #} else if ( type === 'select' ) {#

                    <div class="col-md-7 syspro-entry-content">
                        <select class="form-control" id="#: id #" name="#: name #" data-value-field="value" data-text-field="label" data-value-primitive="false" data-bind="source: options, value: selectedOption, attr: { required: required }">

                        </select>
                    </div>
                    
                #}#
                <div class="col-xs-2 infrastructure-pricing">
                    <span data-bind="visible: discount.hasDiscount">
                        <small class="original-price sys-fg-danger" data-bind="text: totalNetCostWithCurrency"></small>
                    </span>                           
                    + <b data-bind="text: currency"></b><b class="discount-amount" data-bind="text: totalCost, css: { discount-allowed: discount.discountAllowed }"></b>
                    <i class="material-icons sys-fg-light-gray sys-txt-sm pull-right discount" 
                        data-toggle="popover" 
                        title="Apply discount"
                        data-content='<div class="row sys-mg-t-10"><div class="col-xs-12"><div class="md-outline"><input type="number" max="#: discount.max #" class="form-control discount-amount-input"></input></div><span class="sys-txt-md sys-fg-inverse">max #: discount.max #%</span></div></div>'
                        data-bind="visible: discount.discountAllowed, css:{active: discount.hasDiscount}">assignment_returned</i>
                    <span class="hidden-discount-field" style="display: none;">
                        <input type="text" class="discount-type-value" data-bind='value: discount.type'></input>
                        <input type="number" max="#: discount.max #" class="form-control discount-value" data-bind='value: discount.value'></input>
                    </span>

                </div>
            </div>
            <hr class="sys-fg-very-light-gray sys-bg-very-light-gray sys-mg-t-5 sys-mg-b-5" />
        </script>
        
        <script id="infoFieldOptionTemplate" type="text/x-kendo-template">
            #if ( !active ) {#
                <div class="list-group-item">&nbsp;
                    <label>
                        <input type="radio" name="infoFieldOptions" value="#: id #">
                        <span class="list-group-item-text"><i class="material-icons"></i> #: label #</span>
                    </label>
                </div>
            #}#
        </script>
        <script>
            
            const viewModelMethods = {
                hasDiscount: function() {
                    return parseInt(this.get("value")) > 0;
                },
                totalNetCost: function() {
                    return this.get("userCount") * this.get("perUserCost");
                },
                totalNetCostWithCurrency: function() {
                    return this.get("discount.discountAllowed") && this.get("discount.hasDiscount") && this.get("userCount") > 0 ? this.get("currency") + this.totalNetCost() : '';
                },
                totalCost: function() {
                    return this.totalNetCost() - this.totalDiscount();
                },
                totalCostWithCurrency: function() {
                    return this.get("currency") + this.totalCost();
                },
                totalDiscount: function() {
                    return this.totalNetCost() * (this.get("discount.value") / 100);
                },
                totalDiscountWithCurrency: function() {
                    return this.get("currency") + this.totalDiscount();
                },
                perUserCostWithCurrency: function() {
                    return this.get("currency") + this.get("perUserCost");
                },
                perUserCostWithCurrencyAndDiscount: function() {
                    return this.get("currency") + (this.get("perUserCost") - (this.get("perUserCost") * this.get("discount.value") / 100));
                },
                wizardTabsWidth: function() {
                    console.log('ping');
                    const $total = viewModel.activeSections().length;
                    const $width = 100 / $total;
                    console.log($total, $width);
                    return $width + "%";
                },
            }
            
            var Package = kendo.data.Model.define({
                fields: {
                    "name": {
                        type: "string"
                    },
                    "perUserCost": {
                        type: "number"
                    },
                    "userCount": {
                        type: "number"
                    },
                    "mandatory": {
                        type: "boolean"
                    },
                    isSelected: {
                        type: "boolean"
                    },
                    "hasOwnUserCount": {
                        type: "boolean"
                    },
                    "category": {
                        type: "string"
                    },
                    // "discount": {
                    //     type: "number"
                    // },
                    "currency": {
                        type: "string"
                    },
                    "detailsLink": {
                        type: "string"
                    }
                },
                sysbgverylightgray: function() {
                    return !["Foundation", "Foundation+", "Financials", "Financials+", "Distribution", "Distribution+", "Manufacturing", "Manufacturing+"].includes(this.get("name"));
                },
                sysfginverse: function() {
                    return this.sysbgverylightgray();
                },
                sysfgwhite: function() {
                    return !this.sysbgverylightgray();
                },
                sysbginverse: function() {
                    return ["Foundation", "Foundation+"].includes(this.get("name"));
                },
                sysbgsuccess: function() {
                    return ["Financials", "Financials+"].includes(this.get("name"));
                },
                sysbginfo: function() {
                    return ["Distribution", "Distribution+"].includes(this.get("name"));
                },
                sysbgprimary: function() {
                    return ["Manufacturing", "Manufacturing+"].includes(this.get("name"));
                },
                isActive: function() {
                    return (this.get("mandatory") || this.get("isSelected")) && this.get("userCount") > 0;
                },
                isProductSuite: function() {
                    return this.get("category") === "productSuite";
                },
                isNotProductSuite: function() {
                    return this.get("category") !== "productSuite";
                },
                hasDiscount: viewModelMethods.hasDiscount,
                totalNetCost: viewModelMethods.totalNetCost,
                totalNetCostWithCurrency: viewModelMethods.totalNetCostWithCurrency,
                totalCost: viewModelMethods.totalCost,
                totalCostWithCurrency: viewModelMethods.totalCostWithCurrency,
                totalDiscount: viewModelMethods.totalDiscount,
                totalDiscountWithCurrency: viewModelMethods.totalDiscountWithCurrency,
                perUserCostWithCurrency: viewModelMethods.perUserCostWithCurrency,
                perUserCostWithCurrencyAndDiscount: viewModelMethods.perUserCostWithCurrencyAndDiscount,
            });
            
            var EntryField = kendo.data.Model.define({
                fields: {
                    "name": {
                        type: "string"
                    },
                    "id": {
                        type: "string"
                    },
                    "label": {
                        type: "string"
                    },
                    "required": {
                        type: "boolean"
                    },
                    "readonly": {
                        type: "string"
                    },
                    "default": {
                        type: "string"
                    },
                    "type": {
                        type: "string"
                    },
                    "isOutlined": {
                        type: "boolean"
                    },
                    // "discount": {
                    //     type: "number"
                    // },
                    "options": {
                        type: "array"
                    },
                    "active": {
                        type: "boolean"
                    }
                },
                isEmpty: function() {
                    return this.get("default") === '';
                },
                isOutline: function() {
                    // console.log(this.get("type"));
                    // console.log(this.get("type") == "radio");
                    return !(this.get("type") == 'radio');
                },
                sysfginverse: function() {
                    return this.sysbgverylightgray();
                },

            });

            var InfrastructureItem = kendo.data.Model.define({
                fields: {
                    "name": {
                        type: "string"
                    },
                    "id": {
                        type: "string"
                    },
                    "label": {
                        type: "string"
                    },
                    "required": {
                        type: "boolean"
                    },
                    "readonly": {
                        type: "string"
                    },
                    "default": {
                        type: "string"
                    },
                    "cost": {
                        type: "number"
                    },
                },
                isEmpty: function() {
                    return this.get("default") == '';
                },
                sysfginverse: function() {
                    return this.sysbgverylightgray();
                },
                totalNetCost: function() {
                    // TODO: Get the active, checked item, and grab the cost of that
                    return this.get("cost");
                },
                totalNetCostWithCurrency: function() {
                    return this.get("discount.discountAllowed") && this.get("discount.hasDiscount") ? viewModel.currency + this.totalNetCost() : '';
                },
                hasDiscount: viewModelMethods.hasDiscount,
                totalCost: viewModelMethods.totalCost,
                totalCostWithCurrency: viewModelMethods.totalCostWithCurrency,
                totalDiscount: viewModelMethods.totalDiscount,
                totalDiscountWithCurrency: viewModelMethods.totalDiscountWithCurrency,
                perUserCostWithCurrency: viewModelMethods.perUserCostWithCurrency,
                perUserCostWithCurrencyAndDiscount: viewModelMethods.perUserCostWithCurrencyAndDiscount,
            });
                        
            const viewModel = kendo.observable({
                change: function(e) {
                    console.log(e);
                    
                },
                currency: "$",
                infoFields: new kendo.data.DataSource({
                    schema: {
                        model: EntryField
                    },
                    data: [
                        {
                            id: 'ferferfer',
                            name: 'newOrExisting',
                            label: '',
                            type: 'radio',
                            default: '',
                            value: '',
                            options: [
                                {
                                    value: 'new',
                                    label: 'New quote',
                                },
                                {
                                    value: 'existing',
                                    label: 'Existing quote',
                                }
                            ],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'dddferfer',
                            name: 'quoteNumber',
                            label: 'Quote number',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'pojpojp',
                            name: 'refNumber',
                            label: 'Reference number',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: 'readonly'
                        },
                        {
                            id: 'xxxpojpojp',
                            name: 'quoteDate',
                            label: 'Quote date',
                            type: 'date',
                            default: new Date(),
                            options: [],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'xwxpojpojp',
                            name: 'expiryDate',
                            label: 'Expiry date',
                            type: 'date',
                            default: '',
                            value: '',
                            options: [],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kkkdddeee',
                            name: 'quoteVersion',
                            label: 'Quote version',
                            type: 'select',
                            default: '',
                            value: '',
                            options: [
                                {
                                    value: 1,
                                    label: 'v1'
                                },
                                {
                                    value: 2,
                                    label: 'v2'
                                }
                            ],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kkkddddddeee',
                            name: 'customerNumber',
                            label: 'Customer number',
                            type: 'browse',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kdddddeee',
                            name: 'customerName',
                            label: 'Customer name',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: false,
                        },
                        {
                            id: 'kkkddfdfdfe',
                            name: 'numberUsers',
                            label: 'Number of users',
                            type: 'number',
                            default: 0,
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'sssssddeee',
                            name: 'paymentCycle',
                            label: 'Payment cycle',
                            type: 'select',
                            default: '',
                            value: '',
                            options: [
                                {
                                    value: 1,
                                    label: 'Annual'
                                },
                                {
                                    value: 2,
                                    label: 'Bi-annual'
                                },
                                {
                                    value: 3,
                                    label: 'Quarterly'
                                }
                            ],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'pooioido',
                            name: 'licenseStartDate',
                            label: 'License start date',
                            type: 'date',
                            default: '',
                            value: '',
                            options: [],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'ffrrpopopooi',
                            name: 'description',
                            label: 'Description',
                            type: 'textarea',
                            default: '',
                            value: '',
                            options: [],
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kwddddeee',
                            name: 'addressOne',
                            label: 'Address line 1',
                            type: 'text',
                            default: '222333',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kdddxxeee',
                            name: 'addressTwo',
                            label: 'Address line 2',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: false,
                        },
                        {
                            id: 'kdzzddeee',
                            name: 'city',
                            label: 'City',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'kdhhjddeee',
                            name: 'state',
                            label: 'State/Province',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: false,
                        },
                        {
                            id: 'country',
                            name: 'country',
                            label: 'Country',
                            type: 'dropdownlist',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'postzip',
                            name: 'postzip',
                            label: 'Postal/Zip code',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'currency',
                            name: 'currency',
                            label: 'Currency',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'contactName',
                            name: 'contactName',
                            label: 'Contact name',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'contactPhone',
                            name: 'contactPhone',
                            label: 'Contact phone',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: false,
                        },
                        {
                            id: 'contactEmail',
                            name: 'contactEmail',
                            label: 'Contact email',
                            type: 'email',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'companyReg',
                            name: 'companyReg',
                            label: 'Company reg. no.',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'vatNumber',
                            name: 'vatNumber',
                            label: 'Company VAT no.',
                            type: 'text',
                            default: '',
                            value: '',
                            options: [],
                            required: false,
                            readonly: '',
                            active: true,
                        }
                    ]
                
                }),
                quoteInformationColumn1: new kendo.data.DataSource({
                    data: [
                        {
                            id: 'ferferfer',
                        },
                        {
                            id: 'dddferfer',   
                        },
                        {
                            id: 'xxxpojpojp',
                        },
                        {
                            id: 'xwxpojpojp',
                        },
                        {
                            id: 'kkkdddeee',
                        },
                        {
                            id: 'kkkddddddeee',
                        },
                        {
                            id: 'kdddddeee',
                        },
                        {
                            id: 'kkkddfdfdfe',
                        },
                        {
                            id: 'sssssddeee',
                        },

                        {
                            id: 'ffrrpopopooi',
                        },
                        
                    ]
                }),
                quoteInformationColumn2: new kendo.data.DataSource({
                    data: [
                        {
                            id: 'kwddddeee',
                        },
                        {
                            id: 'kdzzddeee',
                        },
                        {
                            id: 'country',
                        },
                        {
                            id: 'postzip',
                        },
                        {
                            id: 'currency',
                        },
                        {
                            id: 'contactName',
                        },
                        {
                            id: 'contactPhone',
                        },
                        {
                            id: 'vatNumber',
                        }
                    ]
                }),
                netGrandTotal: function() {
                    const apiServicesNetTotal = this.get("apiServices").data().reduce((prev, curr) => { return prev + curr.totalNetCost()}, 0);

                    const additionalSoftwareNetTotal = this.get("additionalSoftware").data().reduce((prev, curr) => { return prev + curr.totalNetCost()}, 0);

                    const isvSoftwareNetTotal = this.get("isvSoftware").data().reduce((prev, curr) => { return prev + curr.totalNetCost()}, 0);

                    return apiServicesNetTotal + additionalSoftwareNetTotal + isvSoftwareNetTotal;
                },
                discountGrandTotal: function() {
                    const apiServicesDiscountTotal = this.get("apiServices").data().reduce((prev, curr) => { return prev + curr.totalDiscount()}, 0);

                    const additionalSoftwareDiscountTotal = this.get("additionalSoftware").data().reduce((prev, curr) => { return prev + curr.totalDiscount()}, 0);

                    const isvSoftwareDiscountTotal = this.get("isvSoftware").data().reduce((prev, curr) => { return prev + curr.totalDiscount()}, 0);

                    return apiServicesDiscountTotal + additionalSoftwareDiscountTotal + isvSoftwareDiscountTotal;
                },
                discountGrandTotalWithCurrency: function() {
                    return this.get("currency") + this.discountGrandTotal();
                },
                grandTotal: function() {
                    const apiServicesGrandTotal = this.get("apiServices").data().reduce((prev, curr) => { return prev + curr.totalCost()}, 0);

                    const additionalSoftwareGrandTotal = this.get("additionalSoftware").data().reduce((prev, curr) => { return prev + curr.totalCost()}, 0);

                    const isvSoftwareGrandTotal = this.get("isvSoftware").data().reduce((prev, curr) => { return prev + curr.totalCost()}, 0);

                    return apiServicesGrandTotal + additionalSoftwareGrandTotal + isvSoftwareGrandTotal;
                },
                grandTotalWithCurrency: function() {
                    return this.get("currency") + this.grandTotal();
                },
                productSuite: new kendo.data.DataSource({
                    schema: {
                        model: Package
                    },
                    data: [
                        {
                            id: 'ffffouno',
                            name: 'Foundation',
                            detailsLink: 'https://google.com',
                            mandatory: true,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: true,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'fffffwfwouno',
                            name: 'Foundation+',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: true,
                            isSelected: true,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'fixed',
                                max: 20,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'qvbffffouno',
                            name: 'Financials',
                            detailsLink: 'https://google.com',
                            mandatory: true,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 10,
                            },
                            currency: "$",
                            subItems: [
                                'System Financials',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'ddbffwfwouno',
                            name: 'Financials+',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: true,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'fixed',
                                max: 10,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'qwwwffouno',
                            name: 'Distribution',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'fixed',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Distribution',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'ddbgggewuno',
                            name: 'Distribution+',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: true,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'lpoouno',
                            name: 'Manufacturing',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Manufacturing',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'ddbgggknkr',
                            name: 'Manufacturing+',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'productSuite',
                            hasOwnUserCount: false,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: true,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                    ]
                }),
                apiServices: new kendo.data.DataSource({
                    schema: {
                        model: Package
                    },
                    data: [
                        {
                            id: 'xxxssshhh',
                            name: 'Financial Queries',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'dddoooawawa',
                            name: 'Distribution Queries',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 12,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'hhhwhww8888wh',
                            name: 'Operation Queries',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'wewiuhiwuehiu',
                            name: 'Master Data Management',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'oioeroifer',
                            name: 'Point of sale (POS)',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'qqhen',
                            name: 'Procurement Management',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'erferiiii7',
                            name: 'Sales Management',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                        {
                            id: 'aaopoapwowow',
                            name: 'Operation Management',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'apiServices',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: [
                                'System Foundation',
                                'System Administration',
                                'Report Writer',
                                'Reporting Services',
                                'Office Automation',
                                'Contact Management',
                                'Executive Dashboards',
                                'Interface System',
                            ]
                        },
                    ]
                }),
                additionalSoftware: new kendo.data.DataSource({
                    schema: {
                        model: Package
                    },
                    change: function(e) {
                        // console.log(e);
                        setTimeout(function(){
                            viewModelMethods.wizardTabsWidth();
                        }, 300)
                        
                    },
                    data: [
                        {
                            id: 'dsdxxxssshhh',
                            name: 'Point of sale (POS)',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: []
                        },
                        {
                            id: 'wefoooawawa',
                            name: 'Espresso',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 12,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",

                        },
                        {
                            id: 'oboe888wh',
                            name: 'Manufacturing Operation Management (MOM)',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: []
                        },
                        {
                            id: 'wwwwwwwiwuehiu',
                            name: 'Additional designer seats',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                        },
                        {
                            id: 'foioeroifer',
                            name: 'Additional analytics viewers',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                        },
                        {
                            id: 'ferferfqqhen',
                            name: 'Additional Contact Management User',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'additionalSoftware',
                            hasOwnUserCount: true,
                            userCount: 0,
                            perUserCost: 15,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                            subItems: []
                        }
                    ]
                }),
                isvSoftware: new kendo.data.DataSource({
                    schema: {
                        model: Package
                    },
                    data: [
                        {
                            id: 'ooiwwwhn',
                            name: 'Warehouse Management',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'isvSoftware',
                            hasOwnUserCount: true,
                            userCount: 10,
                            perUserCost: 14,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 5,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                        },
                        {
                            id: 'ooiwwdddwhn',
                            name: 'Bartender',
                            detailsLink: 'https://google.com',
                            mandatory: false,
                            category: 'isvSoftware',
                            hasOwnUserCount: true,
                            userCount: 30,
                            perUserCost: 24,
                            isPlusPackage: false,
                            isSelected: false,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: false,
                                value: 15,
                                type: 'percentage',
                                max: 15,
                            },
                            currency: "$",
                        },
                    ]
                }),
                infrastructure: new kendo.data.DataSource({
                    schema: {
                        model: InfrastructureItem,
                    },
                    data: [
                        
                        {
                            id: 'databaseOption',
                            name: 'databaseOptions',
                            label: 'Database',
                            detailsLink: 'https://google.com',
                            type: 'select',
                            default: '',
                            value: '',
                            cost: 22,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            options: [
                                {
                                    value: 'sqlwindows',
                                    label: 'SQL on Windows',
                                    cost: 12,
                                },
                                {
                                    value: 'sqllinux',
                                    label: 'SQL on Linux',
                                    cost: 15,
                                },
                                {
                                    value: 'sqlexpresslinux',
                                    label: 'SQL Express on Linux',
                                    cost: 10,
                                },
                                {
                                    value: 'somethingelse',
                                    label: 'Something on Linux',
                                    cost: 20,
                                },
                                {
                                    value: 'mongodb',
                                    label: 'MongoDB on Something',
                                    cost: 30,
                                }
                            ],
                            selectedOption: 'sqlwindows',
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'backupFrequency',
                            name: 'backupFrequency1',
                            label: 'Backup frequency',
                            detailsLink: 'https://google.com',
                            type: 'select',
                            default: '',
                            value: '',
                            cost: 32,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            options: [
                                {
                                    value: 'daily',
                                    label: 'Daily',
                                    cost: 15,
                                },
                                {
                                    value: 'twodays',
                                    label: 'Every two days',
                                    cost: 20,
                                },
                                {
                                    value: 'weekly',
                                    label: 'Weekly',
                                    cost: 25,
                                },
                                {
                                    value: 'biweekly',
                                    label: 'Bi-weekly',
                                    cost: 30,
                                },
                                {
                                    value: 'monthly',
                                    label: 'Monthly',
                                    cost: 35,
                                }
                            ],
                            selectedOption: 'twodays',
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'highAvailability',
                            name: 'highAvailability1',
                            label: 'High availability',
                            detailsLink: 'https://google.com',
                            type: 'radioButton',
                            default: '',
                            value: '',
                            cost: 32,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            options: [
                                {
                                    value: 'cold',
                                    label: 'Cold',
                                    cost: 15,
                                },
                                {
                                    value: 'warm',
                                    label: 'Warm',
                                    cost: 20,
                                },
                                {
                                    value: 'hot',
                                    label: 'Hot',
                                    cost: 25,
                                }
                            ],
                            selectedOption: 'hot',
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        {
                            id: 'infrastructureSize',
                            name: 'infrastructureSize1',
                            label: 'Infrastructure size',
                            detailsLink: 'https://google.com',
                            type: 'radioButton',
                            default: '',
                            value: '',
                            cost: 32,
                            discount: {
                                hasDiscount: viewModelMethods.hasDiscount,
                                discountAllowed: true,
                                value: 0,
                                type: 'percentage',
                                max: 15,
                            },
                            options: [
                                {
                                    value: 'small',
                                    label: 'Small',
                                    cost: 15,
                                },
                                {
                                    value: 'medium',
                                    label: 'Medium',
                                    cost: 20,
                                },
                                {
                                    value: 'large',
                                    label: 'Large',
                                    cost: 25,
                                }
                            ],
                            selectedOption: 'large',
                            required: true,
                            readonly: '',
                            active: true,
                        },
                        
                        
                        
                    ]
                }),
                productSuiteActive: function() {
                    return this.get("productSuite") && this.get("productSuite").data().length;
                },
                apiServicesActive: function() {
                    return this.get("apiServices") && this.get("apiServices").data().length;
                },
                additionalSoftwareActive: function() {
                    return this.get("additionalSoftware") && this.get("additionalSoftware").data().length;
                },
                isvSoftwareActive: function() {
                    return this.get("isvSoftware") && this.get("isvSoftware").data().length;
                },
                educationActive: function() {
                    return this.get("education") && this.get("education").data().length;
                },
                activeSections: function() {
                    const activeSections = [];
                    
                    activeSections.push({ 
                        id: 'info',
                        name: 'Quote information',
                        icon: 'person_pin',
                    });
                    if ( this.productSuiteActive() ) activeSections.push({ 
                        id: 'productSuite',
                        name: 'Product suite',
                        icon: 'apps',
                    });
                    if ( this.additionalSoftwareActive() ) activeSections.push({ 
                        id: 'additionalSoftware',
                        name: 'Add-on software',
                        icon: 'queue_play_next',
                    });
                    if ( this.isvSoftwareActive() ) activeSections.push({ 
                        id: 'isvSoftware',
                        name: 'ISV software',
                        icon: 'power',
                    });
                    activeSections.push({ 
                        id: 'infrastructure',
                        name: 'Infrastructure',
                        icon: 'dns',
                    });
                    if ( this.educationActive() ) activeSections.push({ 
                        id: 'education',
                        name: 'Education',
                        icon: 'school',
                    });
                    
                    return activeSections;
                },
                wizardTabsWidth: viewModelMethods.wizardTabsWidth,
            });

            const SAAS_QUOTE = {
                tempDraggedItem: [],
                infoFieldWindow: null,
                init: function() {
                    viewModel.infoFields.read();
                    viewModel.quoteInformationColumn1.read();
                    viewModel.quoteInformationColumn2.read();
                    viewModel.productSuite.read();
                    viewModel.apiServices.read();
                    viewModel.additionalSoftware.read();
                    viewModel.isvSoftware.read();
                    viewModel.infrastructure.read();                    

                    kendo.bind($("body"), viewModel);
                    SAAS_QUOTE.initWizard();
                    SAAS_QUOTE.initFormFields();
                    SAAS_QUOTE.sizeLayout();
                    SAAS_QUOTE.uiInitExtras();
                    SAAS_QUOTE.initInfoFieldWindow();
                    SAAS_QUOTE.registerEventHandlers();
                    $.material.init();
                },
                initWizard: function() {
                    const wizard = $(".wizard-card").bootstrapWizard({
                        tabClass: "nav nav-pills",
                        nextSelector: ".btn-next",
                        previousSelector: ".btn-previous",

                        onNext: function(tab, navigation, index) {
                            var $valid = true; // use some validator
                            if (!$valid) {
                                $validator.focusInvalid();
                                return false;
                            }
                        },

                        onInit: function(tab, navigation, index) {
                            //check number of tabs and fill the entire row
                            var $total = navigation.find("li").length;
                            $width = 100 / $total;

                            navigation.find("li").css("width", $width + "%");
                        },

                        onTabClick: function(tab, navigation, index) {
                            var $valid = true; // use some validator

                            if (!$valid) {
                                return false;
                            } else {
                                return true;
                            }
                        },

                        onTabShow: function(tab, navigation, index) {
                            var $total = navigation.find("li").length;
                            var $current = index + 1;

                            var $wizard = navigation.closest(".wizard-card");

                            // If it's the last tab then hide the last button and show the finish instead
                            if ($current >= $total) {
                                $($wizard)
                                    .find(".btn-next")
                                    .hide();
                                $($wizard)
                                    .find(".btn-finish")
                                    .show();
                            } else {
                                $($wizard)
                                    .find(".btn-next")
                                    .show();
                                $($wizard)
                                    .find(".btn-finish")
                                    .hide();
                            }

                            //update progress
                            var move_distance = 100 / $total;
                            move_distance = move_distance * index + move_distance / 2;

                            $wizard.find($(".progress-bar")).css({ width: move_distance + "%" });
                            //e.relatedTarget // previous tab

                            $wizard.find($(".wizard-card .nav-pills li.active a .icon-circle")).addClass("checked");
                        },
                    });

                },
                registerEventHandlers: function() {
                    $("input[name='quote_type']").on("change", function(e) {
                        const value = $(this).val();
                        if ( value === 'existingquote' ) {
                            $('.existing-quote-field').show();
                        } else if ( value === 'newquote' ) {
                            // $('.customer-details input').each((idx, field) => {
                            //     $(field).val('');
                            // });
                            $('.existing-quote-field').hide();
                            $('.quote-field').show();
                            $('.customer-type-field').show();
                            
                            // $('.customer-details').show();
                            // $(".region-field").show();
                        }
                        
                        
                    });

                    $("#customerCode").on("keydown", function() {
                        $('.customer-details input').each((idx, field) => {
                            $(field).val('customer info');
                            $(field).closest(".form-group").removeClass("is-empty");
                        });
                        $('.customer-details').show();
                        
                    });

                    $("#quoteNumber").on("keydown", function() {
                        // $('.customer-details input').each((idx, field) => {
                        //     $(field).val('customer info');
                        //     $(field).closest(".form-group").removeClass("is-empty");
                        // });
                        $('.quote-field').show();
                        $('.customer-type-field').show();
                        $(".existing-customer").addClass("active");
                        $('.customer-details input').each((idx, field) => {
                            $(field).val('customer info');
                            $(field).closest(".form-group").removeClass("is-empty");
                        });
                        $('.customer-details').show();
                    });

                    $(".fusion-current-account").click(function(){
                        $(".form-group").show();
                        $(".customer-details").show();
                    });

                },
                sizeLayout: function() {
                    // TODO: Maybe handle wizard tep sizing here somehow
                    const tabHeight = $(window).height() - 200;

                    $("#isvFilter").on("keyup", function() {
                        viewModel.isvSoftware.filter({ field: "name", operator: "contains", value: $(this).val() })
                    });
                    // $(".tab-content").height(tabHeight);
                    $(".tab-content").css({'maxHeight': tabHeight, 'height': tabHeight});
                    $(".quote-scrollable-pane").css({'maxHeight': tabHeight - 130, 'height': tabHeight - 130});
                    $("#isv .quote-scrollable-pane").css({'maxHeight': tabHeight - 160, 'height': tabHeight - 160});
                },
                initFormFields: function() {
                    $(".date").datepicker({
                        maxViewMode: 2,
                        todayBtn: 'linked',
                        autoclose: true,
                        todayHighlight: true,
                        zIndexOffset: 1000000
                    });

                    
                    var country = $("#country").kendoDropDownList({
                        optionLabel: "Select country...",
                        // dataTextField: "name",
                        // dataValueField: "categoryID",
                        filter: 'contains',
                        dataSource: {
                            data: ["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua &amp; Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia &amp; Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre &amp; Miquelon","Samoa","San Marino","Satellite","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","St Kitts &amp; Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L'Este","Togo","Tonga","Trinidad &amp; Tobago","Tunisia","Turkey","Turkmenistan","Turks &amp; Caicos","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"]
                        }
                    }).data("kendoDropDownList");

                    var region = $("#region").kendoDropDownList({
                        // optionLabel: "Select region...",
                        dataTextField: "name",
                        dataValueField: "categoryID",
                        dataSource: {
                            data: [
                                {
                                    name: 'Africa',
                                    categoryID: 'africa',
                                },
                                {
                                    name: 'North America',
                                    categoryID: 'northamerica',
                                },
                                {
                                    name: 'South America',
                                    categoryID: 'southamerica',
                                },
                                {
                                    name: 'Europe',
                                    categoryID: 'europe',
                                },
                                {
                                    name: 'Australasia',
                                    categoryID: 'australasia',
                                },
                                {
                                    name: 'Asia',
                                    categoryID: 'asia',
                                },
                            ]
                        }
                    }).data("kendoDropDownList");
                    const regionData = [
                            {
                                name: 'South Africa',
                                categoryID: 'africa',
                            },
                            {
                                name: 'USA',
                                categoryID: 'northamerica',
                            },
                            {
                                name: 'Brazil',
                                categoryID: 'southamerica',
                            },
                            {
                                name: 'France',
                                categoryID: 'europe',
                            },
                            {
                                name: 'Australia',
                                categoryID: 'australasia',
                            },
                            {
                                name: 'China',
                                categoryID: 'asia',
                            },
                            {
                                name: 'Kenya',
                                categoryID: 'africa',
                            },
                            {
                                name: 'Mexico',
                                categoryID: 'northamerica',
                            },
                            {
                                name: 'Argentina',
                                categoryID: 'southamerica',
                            },
                            {
                                name: 'Italy',
                                categoryID: 'europe',
                            },
                            {
                                name: 'New Zealand',
                                categoryID: 'australasia',
                            },
                            {
                                name: 'Malaysia',
                                categoryID: 'asia',
                            },
                    ];

                    var subregion = $("#subregion").kendoDropDownList({
                        autoBind: false,
                        cascadeFrom: "region",
                        // optionLabel: "Select sub-region...",
                        dataTextField: "name",
                        dataValueField: "name",
                        select: function(e) {
                            $('.customer-details').show();
                        },
                        dataSource: {
                            data: regionData
                        }
                    }).data("kendoDropDownList");
                    
                    $("#georeplication").kendoMultiSelect({
                        placeholder: "Select regions...",
                        dataTextField: "name",
                        dataValueField: "name",
                        height: 400,
                        dataSource: {
                            data: regionData,
                            group: { field: "categoryID" }
                        }                    
                    });
                },
                uiInitExtras: function() {
                    $('[data-tooltip="tooltip"]').tooltip();

                    // $("#quoteDate").val(new Date());
                    
                    $(".discount").popover({
                        trigger : 'click',  
                        placement : 'auto', 
                        container: 'body',
                        html: 'true',
                        title: 'Add a comment',
                        // content : '<span class="sys-txt-sm sys-fg-inverse">Percentage - max 12.5%</span><input type="text" class="form-control"></input>',
                        // content: '<span class="sys-txt-md sys-fg-inverse">% - max 12.5%</span><input type="number" class="form-control"></input>',
                        template: '<div class="popover textarea-popover"><div class="arrow"></div>'+
                                '<h3 class="popover-title"></h3><div class="popover-content popover-textarea-content">xxx'+
                                '</div><div class="popover-footer"><button type="button" class="btn btn-xs btn-default popover-cancel">'+
                                '<i class="material-icons sys-txt-sm">cancel</i></button>&nbsp;'+
                                '<button type="button" class="btn btn-primary btn-xs popover-submit pull-right">'+
                                '<i class="material-icons sys-txt-sm">check</i></button></div></div>' 
                    })
                    .on('shown.bs.popover', function(e) {
                        //hide any visible comment-popover
                        $(".discount").not(this).popover('hide');
                        const $this = $(this);
                        const $popover = $(e.target).data('bs.popover').$tip;
                        const $hiddenValueField = $this.siblings(".hidden-discount-field").find("input.discount-value");
                        const $hiddenTypeField = $this.siblings(".hidden-discount-field").find("input.discount-type-value");
                        const $popoverInput = $popover.find("input.discount-amount-input");
                        const value = $hiddenValueField.val();
                        const type = $hiddenTypeField.val();
                        $popoverInput.val(value);
                    
                        
                        // var $popover = $(e.target).data('bs.popover').$tip;
                        // var $popoverTextarea = $popover.find('.popover-textarea');
                        //attach link text
                        // $popoverTextarea.val($comment.text().trim()).focus();
                        //close on cancel
                        $('.popover-cancel').click(function() {                              
                            $this.popover('hide');
                        });
                        //update link text on submit
                        $('.popover-submit').click(function() {
                            // $comment.text($popoverTextarea.val().trim());
                            // $this.parent().find(".truncatedComment").text(truncateWithEllipses($comment.text().trim()));
                            // kendo.bind("body", viewModel);
                            $hiddenValueField.val($popoverInput.val());
                            $hiddenValueField.trigger("change");
                            $this.popover('hide');
                        });
                    });
                    
                    const ps = new PerfectScrollbar('.quote-scrollable-pane');
                },
                renderPlusPackageSubItemsTemplate: function(data) {
                    return kendo.Template.compile($('#plusPackageSubItemsTemplate').html())(data);
                },
                renderInfoFieldTemplate: function(data, uid) {
                    const infoField = viewModel.infoFields.get(data.id);
                    // infoField.guid = uid;
                    // console.log(data);
                    console.log(infoField.isOutline());
                    // infoField.isOutlined = infoField.isOutline();
                    return kendo.Template.compile($('#infoFieldTemplate').html())(infoField);
                },
                placeholder: function(element) {
                    return element.clone().addClass('placeholderGhost');
                },
                hint: function(element) {
                    return element
                        .clone()
                        .addClass('hint')
                        .height(element.height())
                        .width(element.width() + 25)
                        .css('z-index', '9999999');
                },
                initEditLayout: function() {  
                    $('.dragHandle').show(); 
                    $('.removeField').show();  

                    $("#quoteInformationColumn1").kendoSortable({
                        connectWith: "#quoteInformationColumn2",
                        placeholder: SAAS_QUOTE.placeholder,
                        hint: SAAS_QUOTE.hint,
                        //handle: '.dragHandle',
                        filter: '>.form-group',
                        ignore: '.removeField', 
                        end(widget) {
                            const fieldGuid = widget.item.data('guid');
                            const columnDataSourceName = widget.sender.element.attr('id');
                            const dataSource = viewModel[columnDataSourceName];
                            const item = dataSource.get(fieldGuid);                       
                            
                            if (widget.action === 'sort') {  
                                widget.preventDefault();                          
                                dataSource.data();
                                dataSource.remove(item);
                                widget.item.remove();
                                dataSource.insert(widget.newIndex, item);
                                dataSource.data();
                            } else if (widget.action === 'remove') {
                                const itemClone = item.toJSON();
                                SAAS_QUOTE.tempDraggedItem = [JSON.stringify(itemClone), item.id];
                                widget.item.remove();
                                dataSource.remove(item);
                                dataSource.data();
                            } else if (widget.action === 'receive') {
                                widget.preventDefault(); 
                                widget.item.remove();
                                const itemToInsert = JSON.parse(SAAS_QUOTE.tempDraggedItem[0]);
                                itemToInsert.id = SAAS_QUOTE.tempDraggedItem[1];
                                dataSource.insert(widget.newIndex, itemToInsert);
                                SAAS_QUOTE.tempDraggedItem = [];
                                dataSource.data();
                            }
                            $.material.init();
                            $(".dragHandle").show();
                            $('.removeField').show(); 
                        }
                    });

                    $("#quoteInformationColumn2").kendoSortable({
                        connectWith: "#quoteInformationColumn1",
                        placeholder: SAAS_QUOTE.placeholder,
                        hint: SAAS_QUOTE.hint,
                        // handler: '.dragHandle',
                        // filter: '>.form-group',
                        ignore: '.removeField',
                        end(widget) {
                            const fieldGuid = widget.item.data('guid');
                            const columnDataSourceName = widget.sender.element.attr('id');
                            const dataSource = viewModel[columnDataSourceName];
                            const item = dataSource.get(fieldGuid);
                            
                            if (widget.action === 'sort') {
                                widget.preventDefault();
                                dataSource.data();
                                dataSource.remove(item);
                                widget.item.remove();
                                dataSource.insert(widget.newIndex, item);
                            } else if (widget.action === 'remove') {
                                SAAS_QUOTE.tempDraggedItem = [JSON.stringify(item.toJSON()), item.id];
                                widget.item.remove();
                                dataSource.remove(item);
                                dataSource.data();
                            } else if (widget.action === 'receive') {
                                widget.preventDefault(); 
                                widget.item.remove();
                                const itemToInsert = JSON.parse(SAAS_QUOTE.tempDraggedItem[0]);
                                itemToInsert.id = SAAS_QUOTE.tempDraggedItem[1];
                                dataSource.insert(widget.newIndex, itemToInsert);
                                SAAS_QUOTE.tempDraggedItem = [];
                                dataSource.data();
                            }
                            $.material.init();
                            $(".dragHandle").show();
                            $('.removeField').show(); 
                        }
                    });
                    
                    $(".removeField").on("click", function(e) {
                        SAAS_QUOTE.removeInfoField(e.target);
                    });
                },
                infoFieldWindowOpen: function() {
                    console.log('open');
                    
                    $("input[name='infoFieldOptions']").on("change", function() {
                        console.log('change');
                        if ( $("input[name='infoFieldOptions']:checked").length ) {
                            $("#addInfoFieldButton").removeAttr("disabled");
                        } else {
                            $("#addInfoFieldButton").prop("disabled", true);
                        }
                    });                    
                    return null;
                },
                infoFieldWindowClose: function() {
                    return null;
                },
                addInfoField: function() {
                    if ( $("input[name='infoFieldOptions']:checked").length ) {
                        const infoFieldId = $("input[name='infoFieldOptions']:checked").val();
                        const infoFieldItem = viewModel.infoFields.get(infoFieldId);
                        infoFieldItem.set('active', true);
                        viewModel.quoteInformationColumn1.insert(0, { id: infoFieldId });
                    }
                    $.material.init();
                    SAAS_QUOTE.infoFieldWindow.close();                    
                },
                removeInfoField: function(field) {
                    const fieldGuid = $(field).closest('.form-group').data('guid');
                    const columnDataSourceName = $(field).closest('.info-fields-column').attr('id');
                    const dataSource = viewModel[columnDataSourceName];
                    const item = dataSource.getByUid(fieldGuid);
                    const fieldItem = viewModel.infoFields.get(item.id);
                    dataSource.remove(item);
                    fieldItem.set("active", false);
                },
                initInfoFieldWindow: function() {
                    SYSPRO_VB.createKendoWindow('infoFieldWindow', 'Add new info field', SAAS_QUOTE.infoFieldWindowOpen, SAAS_QUOTE.infoFieldWindowClose, null, null, null, null, null, null, null, null, true);
                    SAAS_QUOTE.infoFieldWindow = $('#infoFieldWindow').data('kendoWindow');
                }
            }
             
            
            
            $(document).ready(function() {
                
                
                SAAS_QUOTE.init();
                
                

                // var lineItemTotalsTemplate = kendo.template($("#lineItemTotalsTemplate").html());
                // console.log(viewModel.apiServices.data());
                // viewModel.apiServices.data().forEach(lineItem => {
                //     console.log(lineItem.isActive());
                //     $("#lineItemsTotals").append(lineItemTotalsTemplate(lineItem));
                // });
                // viewModel.additionalSoftware.data().forEach(lineItem => {
                //     console.log(lineItem.isActive());
                //     $("#lineItemsTotals").append(lineItemTotalsTemplate(lineItem));
                // });
                
                // kendo.bind("body", viewModel);
                
                            


                $(".set-full-height").css("height", "auto");

                

                window.viewModel = viewModel;

            });

        </script>
    </body>
</html>
