<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>SYSPRO Product HTML Kitchen Sink</title>

    <!-- Bootstrap -->
    <!--
    <link href="css/syspro.min.css" rel="stylesheet">
    <link href="css/bootkit.css" rel="stylesheet">
-->
    <link href="css/UX_CSS_kendo.common-bootstrap.min.css" rel="stylesheet" />
    <link href="css/UX_CSS_kendo.bootstrap.min.css" rel="stylesheet" />
    <link href="css/UX_CSS_kendo.dataviz.min.css" rel="stylesheet" />

    <link href="css/UX_CSS_kendo.dataviz.bootstrap.min.css" rel="stylesheet" />
    <link href="css/UX_CSS_sysprostyle.css" rel="stylesheet">
    <!--     <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,600,700,800' rel='stylesheet' type='text/css'> -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic,700italic'
        rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        .filler_bg {
            width: 100%;
            height: 100px;
            background: #dfdfdf;
            border-radius: 4px;
        }

        .clear-both {
            clear: both;
        }

        .clear-right {
            clear: right;
        }

        .miniView {
            display: block;
            height: auto;
            transition: opacity 0.3s, height 0.3s, margin 0.3s !important;
            overflow: hidden;
        }

        .expandedView {
            height: auto;
            display: none;
            opacity: 0;
            transition: opacity 0.3s, height 0.3s, margin 0.3s, background-color 0.3s;
            overflow: hidden;
            width: 100%;
        }

        .card-bindable {

            overflow: hidden;
        }

        .expand-card i,
        .shrink-card i {
            font-size: 14px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>

<body>
    <div class="container-fluid">

        <div class="row" id="cards">

            <div class="col-sm-4 column-parent">
                <div class="panel sys-bd-very-light-gray sys-box-shadow-off">
                    <div class="panel-body main-column">

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="draggable-row-section row widget layout-widget" data-guid="1ed9b205-da5e-4fd7-cd1e-6687f54dd3d8">
                                    <div class="col-xs-12">
                                        <div class="panel sys-widget card-widget glyphicon-credit-card" data-cardtype=""
                                            data-cardtypedetail="StockCode" data-parentfieldpath="Fields.SYSPROKeyData.StockCode.Value"
                                            data-bindfunctionname="" data-afterbindfunctionname="" data-businessobject="INVQRY">


                                            <!-- Version=001 -->
                                            <div id="" class="card-bindable panel-body sys-pd-off sys-rd-t">
                                                <!--    HeaderSection-->
                                                <div class="panel-body text-left sys-wrapper sys-bg-primary sys-fg-white sys-rd-t">
                                                    <div class="row" data-bind="source: InvQuery.StockItem"
                                                        data-template="UX_CARD_StockCode_Header_template"></div>
                                                </div>
                                                <div class="miniView">
                                                    <div class="panel-body text-left sys-wrapper sys-bg-white sys-fg-inverse">
                                                        <div class="row">
                                                            <div class="col-xs-12">
                                                                <a href="#" class="btn btn-xs btn-default pull-right expand-card">Expand
                                                                    card
                                                                    <i class="material-icons">expand_more</i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md  sys-500">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.PartCategory">Some
                                                                        Value
                                                                    </span>-
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.PartCategoryDesc">
                                                                        <i class="material-icons">trending_up</i>
                                                                        </i>
                                                                    </span>
                                                                </span>
                                                                <small class="text-muted">Part Category</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.ProductClass }"
                                                                    data-fieldcaption="product class">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.ProductClass">Some
                                                                            Value
                                                                        </span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.ProductClassDesc">
                                                                            <i class="material-icons">trending_up</i>
                                                                        </span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Product Class</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="expandedView">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <a href="#" class="btn btn-xs btn-default pull-right shrink-card">Shrink
                                                                card
                                                                <i class="material-icons">expand_less</i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <!-------------------------------------------------------------------------->
                                                    <!--                                Status                                  -->
                                                    <!-------------------------------------------------------------------------->
                                                    <div class="sys-pd-r-7 sys-pd-l-7 sys-pd-t-5 sys-pd-b-5 sys-bg-very-light-gray sys-mg-b-5"
                                                        data-bind="source: InvQuery.StockItem" data-template="UX_CARD_StockCode_template">

                                                    </div>
                                                    <!-------------------------------------------------------------------------->
                                                    <!--                                Buttons                               -->
                                                    <!-------------------------------------------------------------------------->

                                                    <div class="panel-body text-left sys-wrapper sys-bg-white sys-fg-inverse">
                                                        <div class="row">
                                                            <div class="row" data-bind="source: InvQuery.StockItem"
                                                                data-template="UX_CARD_StockCode_Button_template"></div>

                                                        </div>
                                                        <!------------------------------------------------------------------------>
                                                        <!--        Part/ProductClass/Planner/Buyer Section                      -->
                                                        <!-------------------------------------------------------------------------->
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md  sys-500">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.PartCategory"></span>-
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.PartCategoryDesc"></span>
                                                                </span>
                                                                <small class="text-muted">Part Category</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.ProductClass }"
                                                                    data-fieldcaption="product class">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.ProductClass"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.ProductClassDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Product Class</small>
                                                            </div>

                                                            <div class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Planner }"
                                                                    data-fieldcaption="planner">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Planner"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.PlannerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Planner</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Buyer }"
                                                                    data-fieldcaption="buyer">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Buyer"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.BuyerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Buyer</small>
                                                            </div>
                                                            <div style="display: none" class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Buyer }"
                                                                    data-fieldcaption="buyer">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Buyer"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.BuyerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Buyer</small>
                                                            </div>
                                                        </div>

                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-t-10 sys-mg-b-5">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                             Pricing section                          -->
                                                        <!-------------------------------------------------------------------------->
                                                        <h4>
                                                            <i class="material-icons">local_offer</i>Pricing</h4>


                                                        <div class="row sys-pd-t-10 sys-pd-b-10 text-left">
                                                            <div class="col-xs-4">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.SellingPriceCurrency"></span>
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.Edited_SellingPrice"></span>
                                                                </span>
                                                                <small class="text-muted">Selling Price</small>
                                                            </div>
                                                            <div class="col-xs-4 ">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.CostPriceCurrency"></span>
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.Edited_TotalCost"></span>
                                                                </span>
                                                                <small class="text-muted">Cost Price</small>
                                                            </div>
                                                            <div class="col-xs-4">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md"
                                                                    data-bind="htmltext: InvQuery.StockItem.GrossProfitPct"></span>%
                                                                <small class="text-muted">GP %</small>
                                                            </div>
                                                        </div>

                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-t-10 sys-mg-b-5">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                             Position section                          -->
                                                        <!-------------------------------------------------------------------------->
                                                        <h4>
                                                            <i class="material-icons">store</i>Position</h4>
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_QtyOnHand"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">On Hand Quantity</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_AvailableQty"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">Available Quantity</small>
                                                            </div>
                                                            <div style="display:none" class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_AvailableQty"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">Available Quantity</small>
                                                            </div>
                                                        </div>


                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-off">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                                Notes Accordion                       -->
                                                        <!-------------------------------------------------------------------------->
                                                        <div class="row sys-pd-t-15">
                                                            <div class="col-sm-12">
                                                                <div class="panel-group sys-mg-b-5" id="accordionStockCodeNotes"
                                                                    role="tablist" aria-multiselectable="true">
                                                                    <div class="panel panel-default sys-widget sys-bd-off sys-box-shadow-off sys-bg-white ">
                                                                        <div data-bind="source: InvQuery.StockItem.Narrations"
                                                                            data-template="UX_CARD_StockCode_Notes_template"></div>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-------------------------------------------------------------------------->
                                                <!--                       Notes Header Template                         -->
                                                <!-------------------------------------------------------------------------->
                                                <script id="UX_CARD_StockCode_Notes_template" type="text/x-kendo-template">
                                            <h4 class="sys-mg-off" role="tab" id="stockcodeNotesHeading">
                                                # if ((typeof DangerousGoodsHandling != 'undefined' && DangerousGoodsHandling)  || (typeof InspectionText != 'undefined' && InspectionText)||  (typeof PurchaseOrderAdditionalText != 'undefined' && PurchaseOrderAdditionalText)|| (typeof SalesOrderAdditionalText != 'undefined' && SalesOrderAdditionalText)|| (typeof TechnicalInformation != 'undefined' && TechnicalInformation) || (typeof JobNarrations != 'undefined' && JobNarrations))
                                                {  var Note = '<br>'; #
                                                <a data-toggle="collapse" data-parent="\#accordionStockCodeNotes" href="\#stockcodeNotes" aria-expanded="false" aria-controls="stockcodeNotes" class="panel-heading sys-block sys-bg-white sys-fg-black sys-rd sys-pd-5">
                                                    <i class="material-icons">note</i> Notes
                                                    <i class="material-icons pull-right">keyboard_arrow_down</i>
                                                </a>
                                            </h4>
                                            <div id="stockcodeNotes" class="panel-collapse collapse sys-bg-white" role="tabpanel" aria-labelledby="stockcodeNotesHeading" aria-expanded="false">
                                                # if (typeof DangerousGoodsHandling != 'undefined' && DangerousGoodsHandling)
                                                {  
                                                    if (typeof DangerousGoodsHandling.Text != 'undefined' && DangerousGoodsHandling.Text) 
                                                     { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Dangerous goods handling</h4>
                                        
                                                            <div class="panel-body sys-bg-white text-left">
                                                                #
                                                                if (DangerousGoodsHandling.Text.length > 0)
                                                                {
                                                                    if (DangerousGoodsHandling.Text[0] && DangerousGoodsHandling.Text[0].length === 1) 
                                                                    {
                                                                        Note = DangerousGoodsHandling.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< DangerousGoodsHandling.Text.length; i++)
                                                                        {
                                                                            if (DangerousGoodsHandling.Text[i] !== null )
                                                                            {
                                                                                Note += DangerousGoodsHandling.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                        
                                                                    }
                                                                }
                                                                #
                                                                <small class="text-muted"> #= Note # </small>
                                                            </div>
                                        
                                                        </div>
                                                #   } 
                                                 }
                                                 if (typeof InspectionText != 'undefined' && InspectionText)
                                                 { 
                                                    if (typeof InspectionText.Text != 'undefined' && InspectionText.Text) 
                                                    { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Inspection</h4>
                                                            <div class="panel-body sys-bg-white text-left">
                                                                #  Note = '<br>';
                                                                if (InspectionText.Text.length > 0)
                                                                {
                                                                    if (InspectionText.Text[0] && InspectionText.Text[0].length === 1)
                                                                    {
                                                                        Note = InspectionText.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< InspectionText.Text.length; i++)
                                                                        {
                                                                            if (InspectionText.Text[i] !== null )
                                                                            {
                                                                                Note += InspectionText.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                                                    }
                                                                }  #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                                            </div>
                                                # }
                                                }   
                                                if (typeof PurchaseOrderAdditionalText != 'undefined' && PurchaseOrderAdditionalText)
                                                { 
                                                    if (typeof PurchaseOrderAdditionalText.Text != 'undefined' && PurchaseOrderAdditionalText.Text)
                                                    { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Purchase order additional</h4>
                                                            <div class="panel-body sys-bg-white text-left">
                                                                # Note = '<br>';
                                                                if (PurchaseOrderAdditionalText.Text.length > 0)
                                                                {
                                                                    if ( PurchaseOrderAdditionalText.Text[0] && PurchaseOrderAdditionalText.Text[0].length === 1) 
                                                                    {
                                                                        Note = PurchaseOrderAdditionalText.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< PurchaseOrderAdditionalText.Text.length; i++)
                                                                        {
                                                                            if (PurchaseOrderAdditionalText.Text[i] !== null )
                                                                            {
                                                                                Note += PurchaseOrderAdditionalText.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                                                    }
                                                                }  #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                                            </div>
                                                #   }
                                                }
                                                if (typeof SalesOrderAdditionalText != 'undefined' && SalesOrderAdditionalText)
                                                { 
                                                    if(typeof SalesOrderAdditionalText.Text != 'undefined' && SalesOrderAdditionalText.Text) 
                                                    { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Sales order additional</h4>
                                                            <div class="panel-body sys-bg-white text-left">
                                                                #  Note = '<br>';
                                                                if (SalesOrderAdditionalText.Text.length > 0)
                                                                {
                                                                    if (SalesOrderAdditionalText.Text[0] && SalesOrderAdditionalText.Text[0].length === 1) 
                                                                    {
                                                                        Note = SalesOrderAdditionalText.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< SalesOrderAdditionalText.Text.length; i++)
                                                                        {
                                                                            if (SalesOrderAdditionalText.Text[i] !== null )
                                                                            {
                                                                                Note += SalesOrderAdditionalText.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                                                    }
                                                                 }
                                                                #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                                            </div>
                                                #       }
                                                }
                                                if (typeof TechnicalInformation != 'undefined' && TechnicalInformation)
                                                { 
                                                    if(typeof TechnicalInformation.Text != 'undefined' && TechnicalInformation.Text)
                                                    { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Technical information</h4>
                                                            <div class="panel-body sys-bg-white text-left">
                                                                #  Note = '<br>';
                                                                if (TechnicalInformation.Text.length > 0)
                                                                {
                                                                    if (TechnicalInformation.Text[0] && TechnicalInformation.Text[0].length === 1) 
                                                                    {
                                                                        Note = TechnicalInformation.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< TechnicalInformation.Text.length; i++)
                                                                        {
                                                                            if (TechnicalInformation.Text[i] !== null )
                                                                            {
                                                                                Note += TechnicalInformation.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                                            </div>
                                                #   }
                                                }
                                                if (typeof JobNarrations != 'undefined' && JobNarrations)
                                                {
                                                    if(typeof JobNarrations.Text != 'undefined' && JobNarrations.Text) 
                                                    { #
                                                        <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                            <h4 class="sys-mg-off">Job narrations</h4>
                                                            <div class="panel-body sys-bg-white text-left">
                                                                #  Note = '<br>';
                                                                if (JobNarrations.Text.length > 0)
                                                                {
                                                                    if (JobNarrations.Text[0] && JobNarrations.Text[0].length === 1)
                                                                    {
                                                                        Note = JobNarrations.Text;
                                                                    }
                                                                    else
                                                                    {
                                                                        for (var i=0; i< JobNarrations.Text.length; i++)
                                                                        {
                                                                            if (JobNarrations.Text[i] !== null )
                                                                            {
                                                                                Note += JobNarrations.Text[i];
                                                                                Note += '<br>';
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                #
                                                                <small class="text-muted"> #= Note # </small>
                                                            </div>
                                                        </div>
                                                #    } 
                                                  } #
                                        
                                            </div>
                                           # } else { #
                                            <a data-toggle="collapse" data-parent="\#accordionStockCodeNotes" href="\#stockcodeNotes" aria-expanded="false" aria-controls="stockcodeNotes" class="panel-heading sys-block sys-bg-white sys-fg-black sys-pd-5">
                                                Notes
                                            </a>
                                        
                                            # } #
                                        
                                        </script>



                                                <!-------------------------------------------------------------------------->
                                                <!--                           StockCode header Template                   -->
                                                <!-------------------------------------------------------------------------->

                                                <script id="UX_CARD_StockCode_Header_template" type="text/x-kendo-template">
                                            #  if (Image) { #
                                            <div class="sys-mg-t-11 col-sm-10 col-xs-10 sys-fg-white">
                                                <a onclick="sysproInterop.showSmartTag(this)" data-bind="attr: { data-fieldvalue: StockCode }" data-fieldcaption="stock code">
                                                    <span class="sys-mg-t-off sys-txt-lg sys-mg-b-5 text-white sys-fg-white pull-left" >#= StockCode #</span>
                                                </a>
                                                <small class="text-left sys-fg-white sys-txt-md">#= Description #</small>
                                                <small class="text-left sys-fg-white sys-txt-sm sys-mg-b-15 ">#= LongDesc #</small>
                                            </div>
                                            <div class="col-xs-2 col-sm-2 sys-mg-t-10 sys-mg-b-10">
                                                <div class="sys-avatar">
                                                    <img src="#= Image #" alt="# Description #" class="img-rounded sys-bd-light-gray sys-bd-darken sys-bd-3x text-center img-responsive card-header-image"  onerror="this.style.display = 'none'">
                                                </div>
                                            </div>
                                            # } else { #
                                            <div class="col-xs-11 sys-mg-t-10 sys-pd-b-10">
                                                <a onclick="sysproInterop.showSmartTag(this)" data-bind="attr: { data-fieldvalue: StockCode }" data-fieldcaption="stock code">
                                                    <span class="sys-mg-t-off sys-txt-lg sys-mg-b-5 text-white sys-fg-white pull-left" data-bind="htmltext: StockCode"></span>
                                                </a>
                                                <small class="text-left sys-fg-white sys-txt-md" data-bind="htmltext: Description"></small>
                                                <small class="text-left sys-fg-white sys-txt-sm sys-mg-b-15 " data-bind="htmltext: LongDesc"></small>
                                            </div>
                                            # } #
                                        </script>

                                                <!-------------------------------------------------------------------------->
                                                <!--                             Buttons Template                         -->
                                                <!-------------------------------------------------------------------------->
                                                <script id="UX_CARD_StockCode_Button_template" type="text/x-kendo-template">
                                            <div class="row sys-pd-l-15 sys-fg-primary">
                                                # if (typeof Narrations != 'undefined' && Narrations) {
                                                if (typeof Narrations.DangerousGoodsHandling != 'undefined' && Narrations.DangerousGoodsHandling) {
                                                if (typeof Narrations.DangerousGoodsHandling.Text != 'undefined' && Narrations.DangerousGoodsHandling.Text) { #
                                                <div class="col-xs-4">
                                                    <div class="card-property sys-rd">
                                                        <div class="row sys-tbl">
                                                            <div class="col-xs-3">
                                                                <i class="material-icons sys-txt-md">report_problem</i>
                                                            </div>
                                                            <div class="col-xs-9">
                                                                <span class="sys-fg-gray">Dangerous</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                # }
                                                }
                                                }
                                                if (TraceableType =="T" ) { #
                                                <div class="col-xs-4">
                                                    <div class="card-property sys-rd">
                                                        <div class="row sys-tbl">
                                                            <div class="col-xs-3">
                                                                <i class="material-icons sys-txt-md">explore</i>
                                                            </div>
                                                            <div class="col-xs-9">
                                                                <span class="sys-fg-gray">Lot Traceable</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                # }
                                                if (SerialMethod !== "N" ) { #
                                        
                                                <div class="col-xs-4">
                                                    <div class="card-property sys-rd">
                                                        <div class="row sys-tbl">
                                                            <div class="col-xs-3">
                                                                <i class="material-icons sys-txt-md">receipt</i>
                                                            </div>
                                                            <div class="col-xs-9">
                                                                <span class="sys-fg-gray">Serialized</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                # } #
                                            </div>
                                        
                                        </script>
                                                <!-------------------------------------------------------------------------->
                                                <!--                     StockCode status Template                        -->
                                                <!-------------------------------------------------------------------------->

                                                <script id="UX_CARD_StockCode_template" type="text/x-kendo-template">
                                            <div class="row">
                                                <div class="col-sm-12 sys-pd-t-5">
                                                    <div class="row">
                                                        #  if (StockOnHold == 'Y') { #
                                                        <div class="col-xs-4 sys-fg-gray">
                                                            <div class="row sys-tbl">
                                                                <div class="col-xs-3">
                                                                    <i data-tooltip="tooltip" data-placement="top" data-original-title="On Hold" class="material-icons text-warning text-right sys-txt-md pull-right ">pause_circle_filled</i>
                                                                </div>
                                                                <div class="col-xs-9">
                                                                    <span class="text-danger text-left pull-left sys-txt-md sys-700"> On Hold</span>
                                                                </div>
                                                            </div>
                                                            # } #
                                                        </div>
                                                        #  if (ClearingFlag == 'Y') { #
                                                        <div class="col-xs-4  ">
                                                            <div class="row sys-tbl">
                                                                <div class="col-xs-3">
                                                                    <i data-toggle="tooltip" data-container="body" data-placement="top" title="Clearing stock" class="sys-fg-twitter material-icons text-right sys-txt-md pull-right ">flag</i>
                                                                </div>
                                                                <div class="col-xs-9">
                                                                    <span class="text-left pull-left sys-txt-md sys-700"> Clearing</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        # } #
                                                    </div>
                                                </div>
                                            </div>
                                        </script>



                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
            <div class="col-sm-8 column-parent">
                <div class="panel sys-bd-very-light-gray sys-box-shadow-off">
                    <div class="panel-body main-column">

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="draggable-row-section row widget layout-widget" data-guid="1ed9b205-da5e-4fd7-cd1e-6687f54dd3d8">
                                    <div class="col-xs-12">
                                        <div class="panel sys-widget card-widget glyphicon-credit-card" data-cardtype=""
                                            data-cardtypedetail="StockCode" data-parentfieldpath="Fields.SYSPROKeyData.StockCode.Value"
                                            data-bindfunctionname="" data-afterbindfunctionname="" data-businessobject="INVQRY">

                                            <!-- Version=001 -->
                                            <!-- Version=001 -->
                                            <div id="" class="card-bindable panel-body sys-pd-off sys-rd-t">
                                                <!--    HeaderSection-->
                                                <div class="panel-body text-left sys-wrapper sys-bg-primary sys-fg-white sys-rd-t">
                                                    <div class="row" data-bind="source: InvQuery.StockItem"
                                                        data-template="UX_CARD_StockCode_Header_template"></div>
                                                </div>
                                                <div class="miniView">
                                                    <div class="panel-body text-left sys-wrapper sys-bg-white sys-fg-inverse">
                                                        <div class="row">
                                                            <div class="col-xs-12">
                                                                <a href="#" class="btn btn-xs btn-default pull-right expand-card">Expand
                                                                    card
                                                                    <i class="material-icons">expand_more</i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md  sys-500">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.PartCategory">Some
                                                                        Value
                                                                    </span>-
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.PartCategoryDesc">
                                                                        <i class="material-icons">trending_up</i>
                                                                        </i>
                                                                    </span>
                                                                </span>
                                                                <small class="text-muted">Part Category</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.ProductClass }"
                                                                    data-fieldcaption="product class">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.ProductClass">Some
                                                                            Value
                                                                        </span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.ProductClassDesc">
                                                                            <i class="material-icons">trending_up</i>
                                                                        </span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Product Class</small>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="expandedView">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <a href="#" class="btn btn-xs btn-default pull-right shrink-card">Shrink
                                                                card
                                                                <i class="material-icons">expand_less</i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <!-------------------------------------------------------------------------->
                                                    <!--                                Status                                  -->
                                                    <!-------------------------------------------------------------------------->
                                                    <div class="sys-pd-r-7 sys-pd-l-7 sys-pd-t-5 sys-pd-b-5 sys-bg-very-light-gray sys-mg-b-5"
                                                        data-bind="source: InvQuery.StockItem" data-template="UX_CARD_StockCode_template">

                                                    </div>
                                                    <!-------------------------------------------------------------------------->
                                                    <!--                                Buttons                               -->
                                                    <!-------------------------------------------------------------------------->

                                                    <div class="panel-body text-left sys-wrapper sys-bg-white sys-fg-inverse">
                                                        <div class="row">
                                                            <div class="row" data-bind="source: InvQuery.StockItem"
                                                                data-template="UX_CARD_StockCode_Button_template"></div>

                                                        </div>
                                                        <!------------------------------------------------------------------------>
                                                        <!--        Part/ProductClass/Planner/Buyer Section                      -->
                                                        <!-------------------------------------------------------------------------->
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md  sys-500">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.PartCategory"></span>-
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.PartCategoryDesc"></span>
                                                                </span>
                                                                <small class="text-muted">Part Category</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.ProductClass }"
                                                                    data-fieldcaption="product class">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.ProductClass"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.ProductClassDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Product Class</small>
                                                            </div>

                                                            <div class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Planner }"
                                                                    data-fieldcaption="planner">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Planner"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.PlannerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Planner</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Buyer }"
                                                                    data-fieldcaption="buyer">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Buyer"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.BuyerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Buyer</small>
                                                            </div>
                                                            <div style="display: none" class="col-xs-6 sys-pd-t-15 sys-pd-b-15 text-left sys-vcenter">
                                                                <a tabindex="0" onclick="sysproInterop.showSmartTag(this)"
                                                                    data-bind="attr: { data-fieldvalue: InvQuery.StockItem.Buyer }"
                                                                    data-fieldcaption="buyer">
                                                                    <span class="sys-mg-off sys-txt-md sys-500">
                                                                        <span data-bind="htmltext: InvQuery.StockItem.Buyer"></span>-
                                                                        <span data-bind=" htmltext: InvQuery.StockItem.BuyerDesc"></span>
                                                                    </span>
                                                                </a>
                                                                <small class="text-muted">Buyer</small>
                                                            </div>
                                                        </div>

                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-t-10 sys-mg-b-5">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                             Pricing section                          -->
                                                        <!-------------------------------------------------------------------------->
                                                        <h4>
                                                            <i class="material-icons">local_offer</i>Pricing</h4>


                                                        <div class="row sys-pd-t-10 sys-pd-b-10 text-left">
                                                            <div class="col-xs-4">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.SellingPriceCurrency"></span>
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.Edited_SellingPrice"></span>
                                                                </span>
                                                                <small class="text-muted">Selling Price</small>
                                                            </div>
                                                            <div class="col-xs-4 ">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.StockItem.CostPriceCurrency"></span>
                                                                    <span data-bind=" htmltext: InvQuery.StockItem.Edited_TotalCost"></span>
                                                                </span>
                                                                <small class="text-muted">Cost Price</small>
                                                            </div>
                                                            <div class="col-xs-4">
                                                                <span class="sys-500 sys-pd-b-5 sys-mg-off text-left sys-txt-md"
                                                                    data-bind="htmltext: InvQuery.StockItem.GrossProfitPct"></span>%
                                                                <small class="text-muted">GP %</small>
                                                            </div>
                                                        </div>

                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-t-10 sys-mg-b-5">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                             Position section                          -->
                                                        <!-------------------------------------------------------------------------->
                                                        <h4>
                                                            <i class="material-icons">store</i>Position</h4>
                                                        <div class="row">
                                                            <div class="col-xs-6 sys-pd-t-15 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_QtyOnHand"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">On Hand Quantity</small>
                                                            </div>
                                                            <div class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_AvailableQty"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">Available Quantity</small>
                                                            </div>
                                                            <div style="display:none" class="col-xs-6 sys-pd-t-5 text-left sys-vcenter">
                                                                <span class="sys-mg-off sys-txt-md">
                                                                    <span data-bind="htmltext: InvQuery.WarehouseTotals.Edited_AvailableQty"></span>
                                                                    <span data-bind="    htmltext: InvQuery.StockItem.StockUom"></span>
                                                                </span>
                                                                <small class="text-muted">Available Quantity</small>
                                                            </div>
                                                        </div>


                                                        <!--                Dividing section               -->
                                                        <hr class="sys-hr-light-gray sys-mg-off">
                                                        <!-------------------------------------------------------------------------->
                                                        <!--                                Notes Accordion                       -->
                                                        <!-------------------------------------------------------------------------->
                                                        <div class="row sys-pd-t-15">
                                                            <div class="col-sm-12">
                                                                <div class="panel-group sys-mg-b-5" id="accordionStockCodeNotes"
                                                                    role="tablist" aria-multiselectable="true">
                                                                    <div class="panel panel-default sys-widget sys-bd-off sys-box-shadow-off sys-bg-white ">
                                                                        <div data-bind="source: InvQuery.StockItem.Narrations"
                                                                            data-template="UX_CARD_StockCode_Notes_template"></div>

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-------------------------------------------------------------------------->
                                                <!--                       Notes Header Template                         -->
                                                <!-------------------------------------------------------------------------->
                                                <script id="UX_CARD_StockCode_Notes_template" type="text/x-kendo-template">
                                                <h4 class="sys-mg-off" role="tab" id="stockcodeNotesHeading">
                                                    # if ((typeof DangerousGoodsHandling != 'undefined' && DangerousGoodsHandling)  || (typeof InspectionText != 'undefined' && InspectionText)||  (typeof PurchaseOrderAdditionalText != 'undefined' && PurchaseOrderAdditionalText)|| (typeof SalesOrderAdditionalText != 'undefined' && SalesOrderAdditionalText)|| (typeof TechnicalInformation != 'undefined' && TechnicalInformation) || (typeof JobNarrations != 'undefined' && JobNarrations))
                                                    {  var Note = '<br>'; #
                                                    <a data-toggle="collapse" data-parent="\#accordionStockCodeNotes" href="\#stockcodeNotes" aria-expanded="false" aria-controls="stockcodeNotes" class="panel-heading sys-block sys-bg-white sys-fg-black sys-rd sys-pd-5">
                                                        <i class="material-icons">note</i> Notes
                                                        <i class="material-icons pull-right">keyboard_arrow_down</i>
                                                    </a>
                                                </h4>
                                                <div id="stockcodeNotes" class="panel-collapse collapse sys-bg-white" role="tabpanel" aria-labelledby="stockcodeNotesHeading" aria-expanded="false">
                                                    # if (typeof DangerousGoodsHandling != 'undefined' && DangerousGoodsHandling)
                                                    {  
                                                        if (typeof DangerousGoodsHandling.Text != 'undefined' && DangerousGoodsHandling.Text) 
                                                         { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Dangerous goods handling</h4>
                                            
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    #
                                                                    if (DangerousGoodsHandling.Text.length > 0)
                                                                    {
                                                                        if (DangerousGoodsHandling.Text[0] && DangerousGoodsHandling.Text[0].length === 1) 
                                                                        {
                                                                            Note = DangerousGoodsHandling.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< DangerousGoodsHandling.Text.length; i++)
                                                                            {
                                                                                if (DangerousGoodsHandling.Text[i] !== null )
                                                                                {
                                                                                    Note += DangerousGoodsHandling.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                            
                                                                        }
                                                                    }
                                                                    #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                            
                                                            </div>
                                                    #   } 
                                                     }
                                                     if (typeof InspectionText != 'undefined' && InspectionText)
                                                     { 
                                                        if (typeof InspectionText.Text != 'undefined' && InspectionText.Text) 
                                                        { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Inspection</h4>
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    #  Note = '<br>';
                                                                    if (InspectionText.Text.length > 0)
                                                                    {
                                                                        if (InspectionText.Text[0] && InspectionText.Text[0].length === 1)
                                                                        {
                                                                            Note = InspectionText.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< InspectionText.Text.length; i++)
                                                                            {
                                                                                if (InspectionText.Text[i] !== null )
                                                                                {
                                                                                    Note += InspectionText.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                                                        }
                                                                    }  #
                                                                        <small class="text-muted"> #= Note # </small>
                                                                    </div>
                                                                </div>
                                                    # }
                                                    }   
                                                    if (typeof PurchaseOrderAdditionalText != 'undefined' && PurchaseOrderAdditionalText)
                                                    { 
                                                        if (typeof PurchaseOrderAdditionalText.Text != 'undefined' && PurchaseOrderAdditionalText.Text)
                                                        { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Purchase order additional</h4>
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    # Note = '<br>';
                                                                    if (PurchaseOrderAdditionalText.Text.length > 0)
                                                                    {
                                                                        if ( PurchaseOrderAdditionalText.Text[0] && PurchaseOrderAdditionalText.Text[0].length === 1) 
                                                                        {
                                                                            Note = PurchaseOrderAdditionalText.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< PurchaseOrderAdditionalText.Text.length; i++)
                                                                            {
                                                                                if (PurchaseOrderAdditionalText.Text[i] !== null )
                                                                                {
                                                                                    Note += PurchaseOrderAdditionalText.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                                                        }
                                                                    }  #
                                                                        <small class="text-muted"> #= Note # </small>
                                                                    </div>
                                                                </div>
                                                    #   }
                                                    }
                                                    if (typeof SalesOrderAdditionalText != 'undefined' && SalesOrderAdditionalText)
                                                    { 
                                                        if(typeof SalesOrderAdditionalText.Text != 'undefined' && SalesOrderAdditionalText.Text) 
                                                        { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Sales order additional</h4>
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    #  Note = '<br>';
                                                                    if (SalesOrderAdditionalText.Text.length > 0)
                                                                    {
                                                                        if (SalesOrderAdditionalText.Text[0] && SalesOrderAdditionalText.Text[0].length === 1) 
                                                                        {
                                                                            Note = SalesOrderAdditionalText.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< SalesOrderAdditionalText.Text.length; i++)
                                                                            {
                                                                                if (SalesOrderAdditionalText.Text[i] !== null )
                                                                                {
                                                                                    Note += SalesOrderAdditionalText.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                                                        }
                                                                     }
                                                                    #
                                                                        <small class="text-muted"> #= Note # </small>
                                                                    </div>
                                                                </div>
                                                    #       }
                                                    }
                                                    if (typeof TechnicalInformation != 'undefined' && TechnicalInformation)
                                                    { 
                                                        if(typeof TechnicalInformation.Text != 'undefined' && TechnicalInformation.Text)
                                                        { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Technical information</h4>
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    #  Note = '<br>';
                                                                    if (TechnicalInformation.Text.length > 0)
                                                                    {
                                                                        if (TechnicalInformation.Text[0] && TechnicalInformation.Text[0].length === 1) 
                                                                        {
                                                                            Note = TechnicalInformation.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< TechnicalInformation.Text.length; i++)
                                                                            {
                                                                                if (TechnicalInformation.Text[i] !== null )
                                                                                {
                                                                                    Note += TechnicalInformation.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    #
                                                                        <small class="text-muted"> #= Note # </small>
                                                                    </div>
                                                                </div>
                                                    #   }
                                                    }
                                                    if (typeof JobNarrations != 'undefined' && JobNarrations)
                                                    {
                                                        if(typeof JobNarrations.Text != 'undefined' && JobNarrations.Text) 
                                                        { #
                                                            <div class="panel-body sys-block sys-bg-white  sys-box-shadow-off">
                                                                <h4 class="sys-mg-off">Job narrations</h4>
                                                                <div class="panel-body sys-bg-white text-left">
                                                                    #  Note = '<br>';
                                                                    if (JobNarrations.Text.length > 0)
                                                                    {
                                                                        if (JobNarrations.Text[0] && JobNarrations.Text[0].length === 1)
                                                                        {
                                                                            Note = JobNarrations.Text;
                                                                        }
                                                                        else
                                                                        {
                                                                            for (var i=0; i< JobNarrations.Text.length; i++)
                                                                            {
                                                                                if (JobNarrations.Text[i] !== null )
                                                                                {
                                                                                    Note += JobNarrations.Text[i];
                                                                                    Note += '<br>';
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    #
                                                                    <small class="text-muted"> #= Note # </small>
                                                                </div>
                                                            </div>
                                                    #    } 
                                                      } #
                                            
                                                </div>
                                               # } else { #
                                                <a data-toggle="collapse" data-parent="\#accordionStockCodeNotes" href="\#stockcodeNotes" aria-expanded="false" aria-controls="stockcodeNotes" class="panel-heading sys-block sys-bg-white sys-fg-black sys-pd-5">
                                                    Notes
                                                </a>
                                            
                                                # } #
                                            
                                            </script>



                                                <!-------------------------------------------------------------------------->
                                                <!--                           StockCode header Template                   -->
                                                <!-------------------------------------------------------------------------->

                                                <script id="UX_CARD_StockCode_Header_template" type="text/x-kendo-template">
                                                #  if (Image) { #
                                                <div class="sys-mg-t-11 col-sm-10 col-xs-10 sys-fg-white">
                                                    <a onclick="sysproInterop.showSmartTag(this)" data-bind="attr: { data-fieldvalue: StockCode }" data-fieldcaption="stock code">
                                                        <span class="sys-mg-t-off sys-txt-lg sys-mg-b-5 text-white sys-fg-white pull-left" >#= StockCode #</span>
                                                    </a>
                                                    <small class="text-left sys-fg-white sys-txt-md">#= Description #</small>
                                                    <small class="text-left sys-fg-white sys-txt-sm sys-mg-b-15 ">#= LongDesc #</small>
                                                </div>
                                                <div class="col-xs-2 col-sm-2 sys-mg-t-10 sys-mg-b-10">
                                                    <div class="sys-avatar">
                                                        <img src="#= Image #" alt="# Description #" class="img-rounded sys-bd-light-gray sys-bd-darken sys-bd-3x text-center img-responsive card-header-image"  onerror="this.style.display = 'none'">
                                                    </div>
                                                </div>
                                                # } else { #
                                                <div class="col-xs-11 sys-mg-t-10 sys-pd-b-10">
                                                    <a onclick="sysproInterop.showSmartTag(this)" data-bind="attr: { data-fieldvalue: StockCode }" data-fieldcaption="stock code">
                                                        <span class="sys-mg-t-off sys-txt-lg sys-mg-b-5 text-white sys-fg-white pull-left" data-bind="htmltext: StockCode"></span>
                                                    </a>
                                                    <small class="text-left sys-fg-white sys-txt-md" data-bind="htmltext: Description"></small>
                                                    <small class="text-left sys-fg-white sys-txt-sm sys-mg-b-15 " data-bind="htmltext: LongDesc"></small>
                                                </div>
                                                # } #
                                            </script>

                                                <!-------------------------------------------------------------------------->
                                                <!--                             Buttons Template                         -->
                                                <!-------------------------------------------------------------------------->
                                                <script id="UX_CARD_StockCode_Button_template" type="text/x-kendo-template">
                                                <div class="row sys-pd-l-15 sys-fg-primary">
                                                    # if (typeof Narrations != 'undefined' && Narrations) {
                                                    if (typeof Narrations.DangerousGoodsHandling != 'undefined' && Narrations.DangerousGoodsHandling) {
                                                    if (typeof Narrations.DangerousGoodsHandling.Text != 'undefined' && Narrations.DangerousGoodsHandling.Text) { #
                                                    <div class="col-xs-4">
                                                        <div class="card-property sys-rd">
                                                            <div class="row sys-tbl">
                                                                <div class="col-xs-3">
                                                                    <i class="material-icons sys-txt-md">report_problem</i>
                                                                </div>
                                                                <div class="col-xs-9">
                                                                    <span class="sys-fg-gray">Dangerous</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    # }
                                                    }
                                                    }
                                                    if (TraceableType =="T" ) { #
                                                    <div class="col-xs-4">
                                                        <div class="card-property sys-rd">
                                                            <div class="row sys-tbl">
                                                                <div class="col-xs-3">
                                                                    <i class="material-icons sys-txt-md">explore</i>
                                                                </div>
                                                                <div class="col-xs-9">
                                                                    <span class="sys-fg-gray">Lot Traceable</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    # }
                                                    if (SerialMethod !== "N" ) { #
                                            
                                                    <div class="col-xs-4">
                                                        <div class="card-property sys-rd">
                                                            <div class="row sys-tbl">
                                                                <div class="col-xs-3">
                                                                    <i class="material-icons sys-txt-md">receipt</i>
                                                                </div>
                                                                <div class="col-xs-9">
                                                                    <span class="sys-fg-gray">Serialized</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    # } #
                                                </div>
                                            
                                            </script>
                                                <!-------------------------------------------------------------------------->
                                                <!--                     StockCode status Template                        -->
                                                <!-------------------------------------------------------------------------->

                                                <script id="UX_CARD_StockCode_template" type="text/x-kendo-template">
                                                <div class="row">
                                                    <div class="col-sm-12 sys-pd-t-5">
                                                        <div class="row">
                                                            #  if (StockOnHold == 'Y') { #
                                                            <div class="col-xs-4 sys-fg-gray">
                                                                <div class="row sys-tbl">
                                                                    <div class="col-xs-3">
                                                                        <i data-tooltip="tooltip" data-placement="top" data-original-title="On Hold" class="material-icons text-warning text-right sys-txt-md pull-right ">pause_circle_filled</i>
                                                                    </div>
                                                                    <div class="col-xs-9">
                                                                        <span class="text-danger text-left pull-left sys-txt-md sys-700"> On Hold</span>
                                                                    </div>
                                                                </div>
                                                                # } #
                                                            </div>
                                                            #  if (ClearingFlag == 'Y') { #
                                                            <div class="col-xs-4  ">
                                                                <div class="row sys-tbl">
                                                                    <div class="col-xs-3">
                                                                        <i data-toggle="tooltip" data-container="body" data-placement="top" title="Clearing stock" class="sys-fg-twitter material-icons text-right sys-txt-md pull-right ">flag</i>
                                                                    </div>
                                                                    <div class="col-xs-9">
                                                                        <span class="text-left pull-left sys-txt-md sys-700"> Clearing</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            # } #
                                                        </div>
                                                    </div>
                                                </div>
                                            </script>



                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->

    <script type="text/javascript" src="js/kendo.all.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/UX_JS_velocity.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $(".card-widget").each(function (idx, card) {
                setupExpandableCard(card);
            });
        });

        function setupExpandableCard(card) {

            var miniViewHeight = $(card).find(".miniView").outerHeight();
            var cardBindableHeight = $(card).find(".card-bindable").outerHeight();
            var expandedViewHeight = $(card).find(".expandedView").outerHeight();
            console.log(cardBindableHeight, expandedViewHeight);

            $(card).find(".expandedView").css("height", "0px");
            $(card).find(".expandedView").css("display", "block");
            $(card).find(".card-bindable").css("minHeight", cardBindableHeight);

            function slideFade(elem) {
                var fade = { opacity: 0, marginLeft: '-200%' };
                elem.css(fade);
            }

            function slideInFade(elem) {
                var fade = { opacity: 1, marginLeft: '0%' };
                elem.css(fade);
            }

            function expandFade(elem) {
                var fade = { opacity: 1, height: expandedViewHeight + "px" };
                elem.css(fade);
            }

            function shrinkFade(elem) {
                var fade = { opacity: 0, height: '0px' };
                elem.css(fade);
            }

            $(card).find(".expand-card").off('click').on('click', function (e) {
                e.preventDefault();
                slideFade($(this).closest(".miniView"));
            });

            $(card).find(".shrink-card").off('click').on('click', function (e) {
                e.preventDefault();
                shrinkFade($(this).closest(".expandedView"));
            });

            $(card).find(".miniView").off('transitionend webkitTransitionEnd oTransitionEnd').on('transitionend webkitTransitionEnd oTransitionEnd', function (e) {
                if (e.originalEvent.propertyName === 'opacity' && $(this).css("opacity") == 0) {
                    expandFade($(this).siblings(".expandedView"));
                    $(this).css("height", "0px");
                }
            });

            $(card).find(".expandedView").off('transitionend webkitTransitionEnd oTransitionEnd').on('transitionend webkitTransitionEnd oTransitionEnd', function (e) {
                if (e.originalEvent.propertyName === 'opacity' && $(this).css("opacity") == 0) {
                    $(card).find(".miniView").css("height", "auto");
                    slideInFade($(this).siblings(".miniView"));
                }
            });
        }
    </script>
</body>

</html>