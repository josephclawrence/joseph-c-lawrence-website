<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>SYSPRO Product Visual Builder</title>

        <!-- Bootstrap -->

        <link href="css/UX_CSS_kendo.common-bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.dataviz.min.css" rel="stylesheet" />

        <link href="css/UX_CSS_kendo.dataviz.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_sysprostyle.css" rel="stylesheet" />
        <link rel="stylesheet" href="css/bootstrap-tagsinput.css">
        <!-- <link href="css/UX_CSS_ripples.min.css" rel="stylesheet" />

        <link href="css/UX_CSS_forms.css" rel="stylesheet" /> -->

        <style>
            #file-treeview.k-treeview {
                overflow: hidden;
            }
        #file-treeview .k-item, 
        #file-treeview.k-treeview span.k-in {
            cursor: pointer;
            width: 100%;
        }
        #file-treeview.k-treeview .k-in {
            margin: 0px;
            padding: 4px 7px 4px 4px;
        }
        #file-treeview.k-treeview .k-in {
            color: #34495e;
        }
        #file-treeview.k-treeview .k-in.k-state-selected {
            background-color: #e8f3f9;
            color: #34495e;
        }
        #file-treeview.k-treeview .k-in .material-icons {
            color: #7f8c8d;
        }
        #file-treeview.k-treeview .k-in.k-state-selected .material-icons {
            color: #34495e;
        }
        /* .k-detail-cell .k-grid-header {
            display: none;
        } */
        .k-detail-cell td {
            overflow: visible;
        }
        .k-detail-cell td .dropdown-menu {
            left: auto;
            right: 0;
        }
        .fileExplorer .col-md-6 {
            border-left: 1px solid #ecf0f1;
            border-right: 1px solid #ecf0f1;
        }
        .fileTag {
            padding: 1px;
            margin: 1px;
            display: inline-block;
        }
        .fileTag:hover {
            text-decoration: none;
            opacity: 0.9;
        }
        ul.timeline {
            list-style-type: none;
            position: relative;
            padding-left: 12px;
        }
        ul.timeline:before {
            content: ' ';
            background: #d4d9df;
            display: inline-block;
            position: absolute;
            left: 9px;
            top: 6px;
            width: 2px;
            height: 100%;
            z-index: 400;
        }
        ul.timeline > li {
            margin: 15px 0;
            padding-left: 15px;
        }
        ul.timeline > li:before {
            content: ' ';
            background: white;
            display: inline-block;
            position: absolute;
            border-radius: 50%;
            border: 3px solid #0078d7;
            left: 3px;
            width: 14px;
            height: 14px;
            z-index: 400;
            margin-top: 5px;
        }
        .k-grid .dropdown-menu {
            padding: 5px 0px;
        }
        .k-grid .dropdown-menu .material-icons {
            vertical-align: text-bottom;
        }
        .k-grid .dropdown-menu li:hover{
            background: #ecf0f1;
        }

        /* File dropzone */
        .k-dropzone {
            margin-bottom: 20px;
        }

        .fileUploadDropZone,
        .k-dropzone {
            border: 2px dashed #bdc3c7;
            background-color: #ecf0f1;
            border-radius: 8px;
            padding: 0px;
            height: 124px;
        }
        .k-dropzone-hovered,
        .k-dropzone.k-dropzone-hovered .k-upload-button.k-button {
            border-radius: 8px;
            background-color: #e8f3f9 !important;
        }
        .k-dropzone .k-button {
            width: 100%;
            height: 100%;
            background-color: #ecf0f1 !important;
            height: 120px;
        }
        .k-upload.k-header {
            background: transparent;
            border: 0px solid transparent;
        }
        .k-dropzone .k-upload-button span {
            font-size: 28px;
            color: #7f8c8d;
        }
        .k-dropzone .material-icons {
            font-size: 40px;
        }
        .docPreview {
            display: flex;
            background: #ecf0f1;
            border-radius: 12px;
            height: 455px;
            flex-direction: column;
            justify-content: space-evenly;
            align-items: center;  
        }
        .docPreview i {
            color: #bdc3c7;
            font-size: 100px;
            margin-bottom: 30px;
        }


        .form-group.label-floating label.control-label {
            margin-top: 0px;
            padding-top: 0px;
        }
        .form-group.label-floating:not(.is-empty) label.control-label, .form-group.label-floating.is-focused label.control-label {
            left: 0px;
        }
        .bootstrap-tagsinput {
            width: 100%;
            box-shadow: none;
            border: none;
            height: 33px;
        }
        #uploadFileWindow .form-group {
            margin-bottom: 30px;
            margin-top: 15px;
            
        }

        .has-tags.form-group.label-floating label.control-label {
            font-size: 12px;
            line-height: 1.07142857;
            top: -18px;
            left: 0px;
        }
        .image-preview {
            position: relative;
            vertical-align: middle;
            max-height: 45px;
            max-width: 60px;
        }
        .k-upload-status .k-i-warning {
            /* display: none; */
            color: #d92800;
            margin-right: 4px;
            font-size: 20px;
        }
        .k-upload-status .k-button {
            background-color: #ffffff !important;
            color: #333333 !important;
        }
        .k-file .k-icon {
            font-size: 20px;
        }
        .k-file .k-i-retry {
            color: #27ae60;
        }
        .k-file .k-i-close {
            color: #d92800;
        }
        .k-dropzone .k-upload-status.k-upload-status-total {
            display: none !important;
        }
        .k-upload-files .k-upload-status {
            opacity: 1;
        }
        .k-upload-action:hover {
            opacity: 0.8;
        }
        .k-file-name {
            word-wrap: break-word;
            word-break: break-all;
            white-space: normal;
        }
        .k-file-name-size-wrapper {
            max-width: calc(100% - 35px - 7em);
        }
        </style>

        <script>
            window.MSPointerEvent = null;
            window.PointerEvent = null;
        </script>
        <script type="text/javascript">
            WebFontConfig = {
                google: {
                    families: [
                        "Source+Sans+Pro:400,200,300,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic:latin",
                    ],
                },
            };
            (function() {
                var wf = document.createElement("script");
                wf.src = "https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";
                wf.type = "text/javascript";
                wf.async = "true";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(wf, s);
            })();
        </script>
        <script src="js/UX_JS_jquery.min.js"></script>
        <script src="js/UX_JS_velocity.min.js"></script>
        <script src="js/kendo.all.min.js"></script>
        <script src="js/UX_JS_immutable.min.js"></script>
    </head>

    <body data-column-layout="3col" style="padding-top:0px;">
        <div id="invisibleNode" style="display: none;"></div>
        <div id="invisibleToolbarNode" style="display: none;"></div>

        <nav
            id="fusion-toolbar"
            class="navbar navbar-default navbar-fixed-top navbar-controlbar sys-mg-b-5 fusion-top-toolbar"
        >
            <div class="container-fluid">
                <ul class="nav navbar-nav navbar-right sys-fg-primary">
                    <li class=" nav-item">
                        <a
                            href="#"
                            class="text-primary fusion-main-page-buttons nav-link fusion-current-account offcanvas-toggle"
                            data-toggle="offcanvas"
                            data-target="#offcanvas-2"
                        >
                            <i class="material-icons">notifications</i> <span class="badge sys-bg-danger">8</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="wrapper" class="toggled">
            <div class="container-fluid sys-mg-t-15" id="main-container">
                <div class="row sys-mg-t-15">
                    <div class="col-sm-12 col-xs-12 column-parent sys-mg-t-15">
                        <div class="panel sys-bd-off sys-box-shadow-off">
                            <div class="panel-body main-column">
                                <div class=" row widget layout-widget fileExplorer">
                                    <div class="col-md-3">
                                        <div class="row sys-mg-b-15">
                                            <div class="col-xs-12">
                                                <button onclick="uploadFileWindow.center().open()" class="btn btn-block btn-primary" type="button">Add new document</button>
                                            </div>
                                        </div>
                                        <div class="row sys-mg-t-10">
                                            <div class="col-xs-12">
                                                <div class="form-group label-floating is-empty">                             
                                                    <div class="col-xs-11 ">
                                                        <label for="Search" class="control-label sys-mg-off-t">Search</label>
                                                        <input type="text" class="form-control" id="Search" maxlength="256">
                                                        <p class="help-block error-message"></p>
                                                    </div>
                                                    <div class="col-xs-1 text-left">
                                                        <a href="#"><i class="material-icons sys-fg-light-gray control-label">search</i></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- File tree -->
                                        <div class="row sys-mg-t-10">
                                            <div class="col-xs-12">
                                                <div id="file-treeview"></div>
                                            </div>
                                        </div>


                                        <!-- Filter -->
                                        <div class="row sys-mg-t-10">
                                            <div class="col-xs-12">
                                                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                                    <div class="panel sys-box-shadow-off sys-bd-off">
                                                        <div class="panel-heading sys-bg-very-light-gray" role="tab" id="headingOne">
                                                            <h4 class="sys-mg-off">
                                                                <a class="collapsed panel-heading sys-block sys-bg-very-light-gray sys-fg-inverse" role="button" data-toggle="collapse" data-parent="#accordion"
                                                                    href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                                    Filter by tag
                                                                    <i class="material-icons pull-right collapsible-open-icon">keyboard_arrow_down</i>
                                                                    <i class="material-icons pull-right collapsible-close-icon">keyboard_arrow_up</i>
                                                                </a>

                                                            </h4>
                                                        </div>
                                                        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                                            <a href="#" class="fileTag"><span class="label label-default">Bike</span></a>
                                                            <a href="#" class="fileTag"><span class="label label-primary">Invoice</span></a>
                                                            <a href="#" class="fileTag"><span class="label label-success">Late</span></a>
                                                            <a href="#" class="fileTag"><span class="label label-info">Inventory</span></a>
                                                            <a href="#" class="fileTag"><span class="label label-warning">Receipt</span></a>
                                                            <a href="#" class="fileTag"><span class="label label-danger">Something</span></a>
                                                        </div>
                                                    </div>
                                                    <div class="panel sys-box-shadow-off sys-bd-off">
                                                        <div class="panel-heading sys-bg-very-light-gray" role="tab" id="headingTwo">
                                                            <h4 class="sys-mg-off">
                                                                <a class="collapsed panel-heading sys-block sys-bg-very-light-gray sys-fg-inverse" role="button" data-toggle="collapse" data-parent="#accordion"
                                                                    href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                                    Filter by
                                                                    <i class="material-icons pull-right collapsible-open-icon">keyboard_arrow_down</i>
                                                                    <i class="material-icons pull-right collapsible-close-icon">keyboard_arrow_up</i>
                                                                </a>

                                                            </h4>
                                                        </div>
                                                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                            something
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <table class="table table-hover  table-striped table-noborder" id="stockCodeGrid">
                                            <thead>
                                                <tr>
                                                    <th>Stock code</th>
                                                    <th>Attached documents</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td colspan="3"></td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="row">
                                            <div class="col-xs-12">
                                                    <h4 class="pull-left">Document details</h4>
                                                <div class="btn-group sys-mg-off pull-right">
                                                    <button type="button" class="dropdown-toggle btn btn-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        Actions
                                                        <i class="material-icons">more_horiz</i>
                                                    </button>
                                                    <ul class="dropdown-menu">
                                                        <li>
                                                            <a href="" class="sys-mg-r-15" >
                                                                <i class="material-icons text-muted sys-txt-sm">remove_red_eye</i> View
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="" class="sys-mg-r-15" >
                                                                <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="" class="sys-mg-r-15">
                                                                <i class="material-icons text-muted sys-txt-sm">forward</i> Move document
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="" class="sys-mg-r-15">
                                                                <i class="material-icons text-muted sys-txt-sm">attach_file</i> Attach to
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="" class="sys-mg-r-15">
                                                                <i class="material-icons text-muted sys-txt-sm">cloud_upload</i> Upload new version
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="" class="sys-mg-r-15">
                                                                <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>    
                                        </div>
                                        
                                        
                                        <ul class="nav nav-tabs nav-justified sys-bg-white card-tabs sys-fg-primary" role="tablist">
                                            <li class="nav-item active">
                                                <a class="nav-link active" data-toggle="tab" href="#metaData" aria-expanded="true">Details</a>
                                            </li>
                                            <li class="nav-item ">
                                                <a class="nav-link " data-toggle="tab" href="#documentHistory" aria-expanded="false">History</a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">

                                            <div id="metaData" class="tab-pane fade sys-pd-t-5 active in" role="tabpanel">
                                                <div class="text-center sys-mg-t-10 sys-mg-b-10">
                                                    <img class="img-thumbnail" src="https://vignette.wikia.nocookie.net/jacksmith/images/7/7c/Document-icon.png/revision/latest?cb=20130513232955" width="140" />
                                                </div>
                                                <table class="table table-condensed table-noborder ">
                                                    <tbody>
                                                        <tr>
                                                            <td class="text-left">Title</td>
                                                            <td>Something</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Type</td>
                                                            <td>PDF</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Attached to</td>
                                                            <td>
                                                                <a href="#" data-tooltip="tooltip" data-placement="top" title="Stock code">A100</a>, <a href="#" data-tooltip="tooltip" data-placement="top" title="Stock code">B100</a>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Owner</td>
                                                            <td><a href="#">Someone</a></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Last modified</td>
                                                            <td>10:30 21 October 2018</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">File size</td>
                                                            <td>216 kb</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Tags</td>
                                                            <td>
                                                                <a href="#" class="fileTag"><span class="label label-default">Bike</span></a>
                                                                <a href="#" class="fileTag"><span class="label label-primary">Invoice</span></a>
                                                                <a href="#" class="fileTag"><span class="label label-success">Late</span></a>
                                                                <a href="#" class="fileTag"><span class="label label-info">Inventory</span></a>
                                                                <a href="#" class="fileTag"><span class="label label-warning">Receipt</span></a>
                                                                <a href="#" class="fileTag"><span class="label label-danger">Something</span></a>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td class="text-left">Extract</td>
                                                            <td>
                                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque scelerisque diam non nisi semper, et elementum lorem ornare. Maecenas placerat facilisis mollis. Duis sagittis ligula in sodales vehicula.</p>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div id="documentHistory" class="tab-pane fade sys-pd-t-5 active" role="tabpanel">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <ul class="timeline">
                                                            <li>
                                                                <a href="#">v3.10.2</a>
                                                                <a href="#" class="pull-right">1 April, 2018</a>
                                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque scelerisque diam non nisi semper, et elementum lorem ornare. Maecenas placerat facilisis mollis. Duis sagittis ligula in sodales vehicula.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                            <li>
                                                                <a href="#">v3.10.1</a>
                                                                <a href="#" class="pull-right">24 March, 2018</a>
                                                                <p>Curabitur purus sem, malesuada eu luctus eget, suscipit sed turpis. Nam pellentesque felis vitae justo accumsan, sed semper nisi sollicitudin.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                            <li>
                                                                <a href="#">v3.10</a>
                                                                <a href="#" class="pull-right">4 March, 2018</a>
                                                                <p>Fusce ullamcorper ligula sit amet quam accumsan aliquet. Sed nulla odio, tincidunt vitae nunc vitae, mollis pharetra velit. Sed nec tempor nibh.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                            <li>
                                                                <a href="#">v3.10.2</a>
                                                                <a href="#" class="pull-right">1 April, 2018</a>
                                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque scelerisque diam non nisi semper, et elementum lorem ornare. Maecenas placerat facilisis mollis. Duis sagittis ligula in sodales vehicula.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                            <li>
                                                                <a href="#">v3.10.1</a>
                                                                <a href="#" class="pull-right">24 March, 2018</a>
                                                                <p>Curabitur purus sem, malesuada eu luctus eget, suscipit sed turpis. Nam pellentesque felis vitae justo accumsan, sed semper nisi sollicitudin.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                            <li>
                                                                <a href="#">v3.10</a>
                                                                <a href="#" class="pull-right">4 March, 2018</a>
                                                                <p>Fusce ullamcorper ligula sit amet quam accumsan aliquet. Sed nulla odio, tincidunt vitae nunc vitae, mollis pharetra velit. Sed nec tempor nibh.</p>
                                                                <p><small><a href="#"><em>- User's name</em></a></small></p>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>    
                    </div>
                </div>
                <div class="row sys-mg-t-15">
                    <div class="col-sm-4 col-xs-12 column-parent">
                        <div class="panel sys-bd-off sys-box-shadow-off">
                            <div class="panel-body main-column">
                                <div class=" row widget layout-widget">
                                    <div class="col-xs-12">
                                        <table class="table  table-striped table-noborder">
                                            <thead>
                                                <tr>
                                                    <th>Document</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="text-left">
                                                        <a class="text-left" href="#">
                                                            <i class="material-icons sys-fg-primary">photo</i> Title of the
                                                            file</a
                                                        >
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group sys-mg-off">
                                                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="material-icons">more_horiz</i>
                                                            </a>
                                                            <ul class="dropdown-menu">
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15" >
                                                                        <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                                                                            
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-left">
                                                        <a class="text-left" href="#">
                                                            <i class="material-icons sys-fg-primary">photo</i> Title of the
                                                            file</a
                                                        >
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group sys-mg-off">
                                                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="material-icons">more_horiz</i>
                                                            </a>
                                                            <ul class="dropdown-menu">
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15" >
                                                                        <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                                                                            
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-left">
                                                        <a class="text-left" href="#">
                                                            <i class="material-icons sys-fg-primary">photo</i> Title of the
                                                            file</a
                                                        >
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group sys-mg-off">
                                                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="material-icons">more_horiz</i>
                                                            </a>
                                                            <ul class="dropdown-menu">
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15" >
                                                                        <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                                                                            
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-left">
                                                        <a class="text-left" href="#">
                                                            <i class="material-icons sys-fg-primary">photo</i> Title of the
                                                            file</a
                                                        >
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group sys-mg-off">
                                                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="material-icons">more_horiz</i>
                                                            </a>
                                                            <ul class="dropdown-menu">
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15" >
                                                                        <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                                                                            
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-left">
                                                        <a class="text-left" href="#">
                                                            <i class="material-icons sys-fg-primary">photo</i> Title of the
                                                            file</a
                                                        >
                                                    </td>
                                                    <td class="text-right">
                                                        <div class="btn-group sys-mg-off">
                                                            <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                                <i class="material-icons">more_horiz</i>
                                                            </a>
                                                            <ul class="dropdown-menu">
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15" >
                                                                        <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href="#" class="sys-mg-r-15">
                                                                        <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                                                                            
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Windows -->
        <div id="moveFileWindow"></div>
        <div id="uploadFileWindow">
            <div class="container-fluid window-container">
                <div class="row window-content sys-pd-t-15">
                    <div class="col-sm-6">
                        <input name="files" id="files" type="file" />
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group label-floating">
                            <label for="DocName" class="control-label">Document name</label>
                            <input type="text" class="form-control" id="DocName" maxlength="256">
                            <p class="help-block error-message"></p>
                        </div>
                        <div class="form-group label-floating">
                            <label for="DocName" class="control-label">Comment</label>
                            <textarea class="form-control" id="DocName" maxlength="256"></textarea>
                            <p class="help-block error-message"></p>
                        </div>
                        <div class="form-group label-floating">
                            <label for="tagsInput" class="control-label">Tags</label>
                            <input class="form-control" type="text" value="" data-role="tagsinput" id="tagsInput" name="tagsInput">
                            <p class="help-block error-message"></p>
                        </div>
                        
                    </div>
                    <div class="col-sm-12">
                        <span id="addLayoutButtonPopoverWrap" class="pull-right">
                            <button type="button" id="addLayoutWidgetButton" class="btn btn-primary pull-right sys-mg-l-5 disabled" disabled>Add section</button>
                        </span>
                        <button type="button" class="btn btn-default pull-right closeWindow">Cancel</button>
                    </div>
                </div>

            </div>
        </div>
        <div id="attachToWindow"></div>

        <!-- Off Canvas menus -->

        <script src="js/UX_JS_bootstrap.js"></script>
        <script src="js/UX_JS_bootstrap-3-typeahead.js"></script>
        <script src="js/bootstrap-tagsinput.min.js"></script>
        <script src="js/UX_JS_forms.js"></script>
        <script src="js/UX_JS_ripples.min.js"></script>
        <script src="js/bootstrap.offcanvas.js"></script>
        <script id="fileTemplate" type="text/x-kendo-template">
            <span class='k-progress'></span>
            <div class='file-wrapper'>
                <i class='sys-txt-lg icofont-file-#=addExtensionClass(files[0].extension)#'></i>
                <h4 class='file-heading file-name-heading'>Name: #=name#</h4>
                <h5 class='file-heading file-size-heading'>Size: #=size# bytes</h5>
                <strong class="k-upload-status">
                    <button type='button' class='k-upload-action btn btn-xs btn-primary'></button>
                    <button type='button' class='k-upload-action btn btn-xs btn-primary'></button>
                </strong>
            </div>
        </script>
        <script id="treeview-template" type="text/kendo-ui-template">
            # if (item.subCategories) { #
                <i class="material-icons">folder</i>
            # } #
            # if (item.name === 'Recent') { #
                <i class="material-icons">access_time</i>
            # } #
            # if (item.name === 'Starred') { #
                <i class="material-icons">star</i>
            # } #
            #: item.name # 
        </script>
        <script type="text/x-kendo-template" id="fileGridTemplate">
            <table class="table table-hover table-striped table-noborder" id="fileGrid">
                <thead>
                    <tr>
                        <th>Document</th>
                        <th>Owner</th>
                        <th>Last modified</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="4"></td>
                    </tr>
                </tbody>
            </table>
        </script>
        <script id="fileRowTemplate" type="text/x-kendo-tmpl">
            <tr>
                <td class="text-left">
                    <a class="text-left" href="">
                        # if (Extension === "doc" || Extension === "docx") { #
                        <i class="icofont-file-word sys-txt-lg"></i>
                        # } else if (Extension === "pdf") { #
                        <i class="icofont-file-pdf sys-txt-lg"></i>
                        # } else if (Extension === "xls" || Extension === "xlsx") { #
                        <i class="icofont-file-excel sys-txt-lg"></i>
                        # } else if (Extension === "mov" || Extension === "mp4") { #
                        <i class="icofont-file-flv sys-txt-lg"></i>
                        # } else if (Extension === "jpg" || Extension === "gif" || Extension === "bmp" || Extension === "jpeg" || Extension === "tif" || Extension === "tiff") { #
                        <i class="icofont-file-jpg sys-txt-lg"></i>
                        # } else if (Extension === "ppt" || Extension === "pptx") { #
                        <i class="icofont-file-presentation sys-txt-lg"></i>
                        # } else if (Extension === "txt" || Extension === "rtf") { #
                        <i class="icofont-file-text sys-txt-lg"></i>
                        # } else { #
                            <i class="icofont-file-alt sys-txt-lg"></i>
                        # } #
                        #: Title #
                    </a>
                </td>
                <td class="text-left">#: Owner #</td>
                <td class="text-left">#: LastModified #</td>
                <td class="text-right">
                    <div class="btn-group sys-mg-off">
                        <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="material-icons">more_horiz</i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="" class="sys-mg-r-15" >
                                    <i class="material-icons text-muted sys-txt-sm">remove_red_eye</i> View
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15" >
                                    <i class="material-icons text-muted sys-txt-sm">save_alt</i> Download
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm">info</i> View details
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm">forward</i> Move document
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm">attach_file</i> Attach to
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm">cloud_upload</i> Upload new version
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm">send</i> Send to user
                                </a>
                            </li>
                            <li>
                                <a href="" class="sys-mg-r-15">
                                    <i class="material-icons text-muted sys-txt-sm" >delete_forever</i> Delete
                                </a>
                            </li>
                        </ul>
                    </div>                                                                        
                </td>
            </tr>
        </script>
        <script>
            $(document).ready(function() {

                $.material.init();
                $('[data-tooltip="tooltip"]').tooltip();

                var inline = new kendo.data.HierarchicalDataSource({
                    data: [
                        { name: "Accounts receivable", subCategories: [
                            { name: "Customers" },
                            { name: "Branches" },
                            { name: "Something", subCategories: [
                            { name: "Something" },
                            { name: "Something" },
                            { name: "Something" }
                        ] }
                        ] },
                        { name: "Inventory", subCategories: [
                            { name: "Stock codes" },
                            { name: "Price codes" },
                            { name: "Something" }
                        ] },
                        { name: "Recent" },
                        { name: "Starred" }
                    ],
                    schema: {
                        model: {
                            children: "subCategories"
                        }
                    }
                });

                $("#file-treeview").kendoTreeView({
                    template: kendo.template($("#treeview-template").html()),
                    dataSource: inline,                    
                    dataTextField: [ "name" ]
                });

                var stockCodes = [
                    {
                        stockCode : "A100",
                        documents : 5,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "pdf",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "doc",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A101",
                        documents : 4,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A102",
                        documents : 5,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A103",
                        documents : 7,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A104",
                        documents : 8,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "pdf",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "doc",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "png",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A105",
                        documents : 4,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A106",
                        documents : 3,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A107",
                        documents : 5,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "A108",
                        documents : 6,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "B100",
                        documents : 8,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "C100",
                        documents : 1,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "D100",
                        documents : 3,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "E100",
                        documents : 5,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "G100",
                        documents : 6,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "W100",
                        documents : 3,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "Q100",
                        documents : 6,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "Z100",
                        documents : 7,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "X100",
                        documents : 2,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "V100",
                        documents : 2,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }, {
                        stockCode : "B100",
                        documents : 2,
                        files: [
                            {
                                Filename: "filename.jpg",
                                Title: "Title of the file",
                                Extension: "jpg",
                                Owner: "username",
                                LastModified: "21/10/2018"
                            },
                        ]
                    }
                ];
                
                var element = $("#stockCodeGrid").kendoGrid({
                    dataSource: {
                            data: stockCodes,
                            schema: {
                                model: {
                                    fields: {
                                        stockCode: { type: "string" },
                                        documents: { type: "number" }
                                    }
                                }
                            },
                            pageSize: 20
                        },
                        height: 550,
                        sortable: true,
                        pageable: {
                            input: true,
                            numeric: false
                        },
                        filterable: {
                            mode: "menu"
                        },
                        detailTemplate: kendo.template($("#fileGridTemplate").html()),
                        detailInit: detailInit,
                        columns: [
                            {
                                field: "stockCode",
                                title: "Stock code"
                            },
                            {
                                field: "documents",
                                title: "Attached documents"
                            }
                        ]
                    });
                

                function detailInit(e) {
                    e.detailRow.find("#fileGrid").kendoGrid({
                        dataSource: e.data.files,
                        scrollable: true,
                        pageable: false,
                        rowTemplate: kendo.template($("#fileRowTemplate").html()),
                        columns: [
                            { field: "Title", title: "Title" },
                            { field: "Owner", title: "Owner" },
                            { field: "LastModified", title: "Last Modified" }
                        ]
                    });
                };
                

                $("#files").kendoUpload({
                    async: {
                        saveUrl: "save",
                        removeUrl: "remove",
                        autoUpload: true,
                    },
                    validation: {
                        allowedExtensions: [".jpg", ".jpeg", ".png", ".bmp", ".gif", ".pdf", ".doc", ".docx", ".xls"],
                    },
                    // template: kendo.template($('#fileTemplate').html()),
                    success: onSuccess,
                    showFileList: true,
                    select: function(e) {
                        var fileInfo = e.files[0];
                        var wrapper = this.wrapper;

                        setTimeout(function(){
                        addPreview(fileInfo, wrapper);
                        });
                    }
                    // dropZone: ".fileUploadDropZone",
                });

                $(".k-dropzone")
                    .find("em")
                    .remove();
                $(".k-dropzone .k-upload-button")
                    .find("span")
                    .text("Drop file here or click to upload");
                $(".k-dropzone .k-upload-button").prepend(
                    "<h3 class='sys-mg-t-10'><i class='material-icons text-muted'>cloud_upload</i></h3>"
                );

                function onSuccess(e) {
                    console.log('upload success!');                    
                }
                
                function addPreview(file, wrapper) {
                    var raw = file.rawFile;
                    var reader  = new FileReader();

                    if (raw) {
                    reader.onloadend = function () {
                        var preview = $("<img class='image-preview'>").attr("src", this.result);

                        wrapper.find(".k-file[data-uid='" + file.uid + "'] .k-file-extension-wrapper")
                        .replaceWith(preview);
                    };

                    reader.readAsDataURL(raw);
                    }
                }
            });

            function addExtensionClass(extension) {
                switch (extension) {
                    case '.jpg':
                    case '.img':
                    case '.png':
                    case '.gif':
                        return "jpg";
                    case '.doc':
                    case '.docx':
                        return "word";
                    case '.xls':
                    case '.xlsx':
                        return "excel";
                    case '.pdf':
                        return "pdf";
                    default:
                        return "alt";
                }
            }
            // Windows
            // Add new document window
            const uploadFileWindow = $("#uploadFileWindow").kendoWindow({ //create a window
                actions: ["close"],
                draggable: true,
                minHeight: "200px",
                minWidth: "200px",
                width: "900px",
                height: "550px",
                modal: true,
                //pinned: false,
                position: {
                    top: "50%",
                    left: "50%"
                },
                animation: {
                    open: {
                        effects: "fadeIn",
                        duration: 100
                    },
                    close: {
                        effects: "fadeOut",
                        duration: 80
                    }
                },
                resizable: true,
                title: "Add new document",
                // deactivate: deactivateMethod,
                visible: false,
                // open: openFunction,
                // close: closeFunction,
                activate: function (e) {
                    $('.k-window-action').attr('tabIndex', -1);
                    $('.k-window-action').prop('tab-index', -1);
                    //ElementQueries.init();
                }
            }).data("kendoWindow");
            
            uploadFileWindow.wrapper.addClass("compact-window");
            
            const availableTags = [
                {
                    code: "AABB22",
                    name: "Business"
                },
                {
                    code: "ABB22",
                    name: "Finance"
                },
                {
                    code: "AABB2",
                    name: "Accounting"
                },
                {
                    code: "AABB32",
                    name: "Human Resources"
                },
                {
                    code: "XABB22",
                    name: "Supplier"
                },
                {
                    code: "AABD22",
                    name: "Customer"
                },
                {
                    code: "AABV22",
                    name: "Deadweight"
                }
            ];

            $('#tagsInput').tagsinput({
                itemValue: 'code',
                itemText: 'name',
                freeInput: true,
                typeahead: {
                    displayKey: 'name',
                    afterSelect: function(val) { this.$element.val(""); },
                    source: availableTags
                }
            });
            $('#tagsInput').tagsinput('add', { code: "AABB22", name: "Business" });
            
            $(".bootstrap-tagsinput").addClass("form-control");
            $(".bootstrap-tagsinput").closest(".form-group").addClass("has-tags");
            
            $('#tagsInput').on('itemRemoved itemAdded', function(event) {
                $(".bootstrap-tagsinput").closest(".form-group").toggleClass("has-tags", $("#tagsInput").tagsinput('items').length > 0);
            });
            
            </script>
    </body>
</html>
