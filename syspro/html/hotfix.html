<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>SYSPRO Product Visual Builder</title>

        <!-- Bootstrap -->

        <link href="css/UX_CSS_kendo.common-bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_kendo.dataviz.min.css" rel="stylesheet" />

        <link href="css/UX_CSS_kendo.dataviz.bootstrap.min.css" rel="stylesheet" />
        <link href="css/UX_CSS_sysprostyle.css" rel="stylesheet" />
        <link rel="stylesheet" href="css/bootstrap-tagsinput.css" />
        <link rel="stylesheet" href="css/UX_CSS_bootstrap-datetimepicker.min.css" />


        <style>
            .btn-group > .btn:not(:first-child):not(.dropdown-toggle) {
                border-left: 1px solid;
            }
            .k-grid-content {
                border-bottom: 1px solid var(--color_geyser_approx);
            }
            .form-group {
                margin-top: 10px;
                margin-bottom: 15px;
            }
            .prodConfigOptionsWrapper .collapse.in,
            .prodConfigOptionsWrapper .collapsing {
                background: #f9f9f9;
                padding: 15px;
            }
            .form-control {
                border-radius: 3px;
                border: 2px solid #ecf0f1;
                max-width: 100%;
            }
            .form-control:focus {
                border: 2px solid #0078d7;
            }
            
            .noUi-tooltip {
                word-wrap: normal;
                bottom: 140%;
                top: auto;
                box-shadow: 0px 1px 6px 0px rgba(0, 0, 0, 0.2);
                left: 50%;
                text-align: center;
                display: block;
                position: absolute;
                /* border: 1px solid #d9d9d9; */
                border-radius: 3px;
                background: #fff;
                color: #000;
                padding: 5px;
                text-align: center;
                white-space: nowrap;
                transform: translate(-50%, 0);
            }
            .noUi-handle.noUi-active {
                -webkit-transform: scale3d(1.3, 1.3, 1);
                transform: scale3d(1.3, 1.3, 1);
            }
            .noUi-handle {
                width: 18px;
                height: 18px;
                left: -18px;
                top: -9px;
            }
            .slider .noUi-handle {
                background-color: #0078d7;
                border-color: #0078d7;
            }
            .noUi-connect {
                background-color: #0078d7;
            }
            .productConfigAccordion textarea {
                background-color: white !important;
                padding: 5px;
            }
            .prodConfigOptionsWrapper {
                max-height: 700px;
                overflow: scroll;
            }
            .btn.btn-radio.active {
                outline: 0;
                background-image: none;
                border: 2px solid #61dfff !important;
            }


            .btn-colour {
                height: 20px;
                width: 20px;
                border-radius: 50%;
                padding: 0px;
            }
        </style>

        <style>
            .hotfix-request-actions {
                display: none;
            }
            #quoteOverallProgress {
                position: fixed;
                bottom: 23px;
                width: 100%;
                padding: 0px;
                z-index: 999999;
                border-top: 1px solid #bdc3c7;
                background: #34495e;
            }
            .overall-progress-bar {
                margin-bottom: 0px;
            list-style: none;
            overflow: hidden;
            font-weight: 400;
            display: -webkit-box;
            display: flex;
            counter-reset: li;
            padding-inline-start: 0px;
        }
        .progress-bar__steps {
        /* background: #ddd;
        color: #666; */
        background: #34495e;
        color: #bdc3c7;
        width: 16%;
        position: relative;
        cursor: default;
        list-style-image: none;
        list-style-type: none;
        padding: 4px 5px;
        text-align: center;
        }
        @media screen and (min-width: 800px) {
        .progress-bar__steps {
            padding: 4px 0 4px 65px;
            text-align: left;
        }
        }
        @media screen and (min-width: 800px) {
        .progress-bar__steps:first-child {
            padding: 4px 0 4px 30px;
        }
        }
        @media screen and (min-width: 800px) {
        .progress-bar__steps:after {
            border-bottom: 50px solid transparent;
            border-top: 50px solid transparent;
            content: " ";
            display: block;
            height: 0;
            left: 100%;
            margin-top: -50px;
            position: absolute;
            top: 50%;
            width: 0;
            border-left: 30px solid #34495e;
            z-index: 2;
        }
        }
        @media screen and (min-width: 800px) {
        .progress-bar__steps:before {
            border-bottom: 50px solid transparent;
            border-top: 50px solid transparent;
            content: " ";
            display: block;
            height: 0;
            left: 100%;
            margin-top: -50px;
            position: absolute;
            top: 50%;
            width: 0;
            border-left: 30px solid #fff;
            z-index: 1;
            margin-left: 5px;
        }
        }
        .overall-progress-bar .current {
        background: #e67e22;
        color: #fff;
        }
        .overall-progress-bar .current:after {
        border-left: 30px solid #e67e22;
        }

        @media screen and (min-width: 800px) {
        .progress-bar__steps--numbers:before {
            content: counter(li) " ";
            counter-increment: li;
            margin-right: 15px;
            background: transparent;
            border: 1px solid #666;
            border-radius: 50%;
            display: inline-block;
            height: 20px;
            line-height: 18px;
            text-align: center;
            width: 20px;
        }
        }
        .current .progress-bar__steps--numbers:before {
        background: white;
        color: #7f8c8d;
        }

            .wizard-container {
                padding-top: 100px;
                z-index: 3;
            }

            .btn.btn-fill {
                color: #ffffff;
                background-color: #66615b;
                opacity: 1;
                filter: alpha(opacity=100);
            }
            .btn.btn-fill:hover,
            .btn.btn-fill:focus,
            .btn.btn-fill:active,
            .btn.btn-fill.active,
            .open > .btn.btn-fill.dropdown-toggle {
                background-color: #484541;
                color: #ffffff;
                border-color: #484541;
            }
            .btn.btn-fill .caret,
            .navbar .navbar-nav > li > a.btn.btn-fill .caret {
                border-top-color: #ffffff;
            }

            .btn:hover,
            .btn:focus {
                outline: 0 !important;
            }
            .btn:active,
            .btn.active,
            .open > .btn.dropdown-toggle {
                -webkit-box-shadow: none;
                box-shadow: none;
                outline: 0 !important;
            }
            .btn.btn-icon {
                border-radius: 25px;
                padding: 7px 10px;
            }
            .btn.btn-icon i {
                margin-right: 0px;
            }
            .btn [class*="ti-"] {
                vertical-align: middle;
            }

            /* .btn-success {
                border-color: #7ac29a;
                color: #7ac29a;
            } */

            .btn-disabled {
                cursor: default;
            }

            .btn-simple {
                border: 0;
                padding: 7px 18px;
            }

            .btn-wd {
                min-width: 140px;
            }
            /*            Navigation menu                */
            .nav-pills {
                background-color: #f3f2ee;
                position: absolute;
                width: 100%;
                height: 4px;
                top: 40px;
                text-align: center;
            }
            .nav-pills > li + li {
                margin-left: 0;
            }
            .nav-pills > li > a {
                padding: 0;
                max-width: 120px;
                margin: 0 auto;
                color: #34495e;
                border-radius: 50%;
                position: relative;
                top: -29px;
                z-index: 100;
                font-size: 14px;
            line-height: 3;
            }
            .nav-pills > li > a:after {
                content: "";
                width: 45px;
            height: 45px;
            border-radius: 50%;
            display: inline-block;
            position: absolute;
            right: 38px;
            top: 8px;
                transform: scale(0);
                transition: 0.2s all linear;
            }
            .nav-pills > li > a:hover,
            .nav-pills > li > a:focus {
                background-color: transparent;
                color: rgba(0, 0, 0, 0.2);
                outline: 0 !important;
                cursor: pointer;
            }
            .nav-pills > li.active > a:after {
                content: "";
                width: 45px;
            height: 45px;
            border-radius: 50%;
            display: inline-block;
            position: absolute;
            right: 38px;
            top: 8px;
                -webkit-transform: scale(1);
                -moz-transform: scale(1);
                -o-transition: scale(1);
                -ms-transform: scale(1);
                transform: scale(1);
                -webkit-transition: all 0.2s linear;
                -moz-transition: all 0.2s linear;
                -o-transition: all 0.2s linear;
                -ms-transition: all 0.2s linear;
                transition: all 0.2s linear;
            }
            .nav-pills > li.active > a,
            .nav-pills > li.active > a:hover,
            .nav-pills > li.active > a:focus {
                background-color: transparent;
                font-size: 15px;
                -webkit-transition: font-size 0.2s linear;
                -moz-transition: font-size 0.2s linear;
                -o-transition: font-size 0.2s linear;
                -ms-transition: font-size 0.2s linear;
                transition: font-size 0.2s linear;
            }
            .nav-pills > li.active > a .material-icons,
            .nav-pills > li.active > a:hover .material-icons,
            .nav-pills > li.active > a:focus .material-icons {
                color: #ffffff;
                /* font-size: 32px;
                top: 3px;
                left: 3px; */
                -webkit-transition: all 0.2s linear;
                -moz-transition: all 0.2s linear;
                -o-transition: all 0.2s linear;
                -ms-transition: all 0.2s linear;
                transition: all 0.2s linear;
            }

            .wizard-card .picture-container {
                position: relative;
                cursor: pointer;
                text-align: center;
            }
            .wizard-card .icon-circle {
                font-size: 20px;
                border: 3px solid #f3f2ee;
                text-align: center;
                border-radius: 50%;
                color: #509E2F;
                font-weight: 600;
                width: 45px;
                height: 45px;
                background-color: #ffffff;
                margin: 0 auto;
                position: relative;
                top: 8px;
            }
            .wizard-card .disabled .icon-circle {
                color: #f3f2ee;
            }
            .wizard-card .icon-circle .material-icons {
                position: absolute;
                left: 6px;
            right: 0px;
            top: 6px;
            font-size: 26px;
                z-index: 1;
            }

            .wizard-card .nav-pills > li.active > a:after {
                background-color: #509E2F;
            }
            .wizard-card .nav-pills > li.active > a {
                color: #509E2F;
            }
            .wizard-card .nav-pills .icon-circle.checked {
                border-color: #509E2F;
            }

            .progress-bar {
                float: left;
                width: 0%;
                height: 100%;
                font-size: 12px;
                line-height: 20px;
                color: #fff;
                text-align: center;
                background-color: #337ab7;
                -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
                box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
                -webkit-transition: width 0.6s ease;
                -o-transition: width 0.6s ease;
                transition: width 0.6s ease;
            }
            .wizard-card .wizard-navigation .progress-bar {
                background-color: #509E2F;
            }

            .wizard-card .tab-content {
                min-height: 475px;
                padding: 120px 20px 10px;

            }
            .wizard-card .wizard-footer {
                padding: 0 15px 5px;
            }
            .wizard-card .wizard-navigation {
                position: relative;
            }
            .wizard-card .wizard-navigation .progress-with-circle {
                position: relative;
                top: 40px;
                z-index: 50;
                height: 4px;
            }
            .wizard-card .wizard-navigation .progress-with-circle .progress-bar {
                box-shadow: none;
                -webkit-transition: width 0.3s ease;
                -o-transition: width 0.3s ease;
                transition: width 0.3s ease;
            }

            @media (max-width: 768px) {
                .main .container {
                    margin-bottom: 50px;
                }
            }
            @media (min-width: 768px) {
                .navbar-form {
                    margin-top: 21px;
                    margin-bottom: 21px;
                    padding-left: 5px;
                    padding-right: 5px;
                }

                .btn-wd {
                    min-width: 140px;
                }
            }



            .sys-bg-inverse .table-striped > tbody > tr:nth-of-type(odd) {
                background-color: transparent;
            }
            #hotfixWizard, #hotfixNavigator {
                min-height: 630px;
                height: 100%;
            }
            #hotfixWizard .form-horizontal .form-group {
                margin-left: 0px;
                margin-right: 0px;
            }
            #hotfixWizard .form-group {
            margin-top: 0px;
            margin-bottom: 10px;
        }

        #hotfixWizard .column-parent.col-sm-12 .form-horizontal .col-sm-4 .form-control {
            width: auto;
        }
        .quote-scrollable-pane {
            max-height: 450px;
            overflow-y: scroll;
        }

        .btn-group.quote-toggle-buttons {
            margin: 0px;
        }
        
        .btn-group.quote-toggle-buttons > .btn{
            border-radius: 4px !important;
            margin-right: 10px;
            
            white-space: normal;
            min-height: 58px;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 8px;
        }

        .btn.infrastructure-option, .btn.btn.database-option {
            width: 30%;
        }
        .btn.customer-type-option {
            width: calc(50% - 5px);
        }

        .btn-group > .btn .sys-txt-md {
            line-height: 1.2em;
        }

        .btn-group.quote-toggle-buttons > .btn.infrastructure-option {
            min-height: 40px;
        }

        .btn-group.quote-toggle-buttons > .btn.active{
            border: 3px solid #f1c40f !important;
        }
        
        .noUi-horizontal {
            height: 10px;
            height: 3px;
            margin: 10px 0;
            border-radius: 3px;
        }
        .noUi-connect {
            border-radius: 3px;
            background-color: #0078d7;
        }
        .noUi-tooltip {
            left: 50%;
            border-radius: 4px;
            padding: 2px;
            text-align: center;
            white-space: nowrap;
            font-size: 12px;
        }


        

            .k-dropdown-wrap .k-input, .k-multiselect-wrap .k-input, .k-numeric-wrap .k-input, .k-picker-wrap .k-input, .k-selectbox .k-input, .k-textbox > input {
            line-height: 1.3;
            }
            .k-dropdown-wrap.k-state-default, .k-numeric-wrap.k-state-default, .k-picker-wrap.k-state-default {
            background-color: transparent;
            }
            
            .item-name {
                white-space: normal;
            }

        </style>
        <style>

        @media (min-width: 1000px) {

        }
        .hotfix-short-description {
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        .k-treeview .k-item > .k-group {
            border-left: 1px solid #c2d5da;
        }
        .k-treeview .k-in.k-state-hover {
            background: #c2d5da;
        }
        .k-treeview span.k-in {
            cursor: pointer;
            width: 97%;
        }
        .k-treeview .k-state-selected {
            background-color: #2c3e50 !important;
        }
        #hotfixNavigator {
            box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 10px -2px;
            background: #ecf0f1;
        }
        .panel.panel-inverse .panel-heading {
            background: #2c3e50;
        }
        .form-control:not(.k-combobox) {
            height: 30px;
        }
        #mandatoryHotfixes, #generalHotfixes, #myHotfixes {
            border-width: 0px;
        }
        </style>
        <script src="js/UX_JS_jquery.min.js"></script>
        <script>
            $(".prodConfigOptionsWrapper .loading-cover").show();
            window.MSPointerEvent = null;
            window.PointerEvent = null;
        </script>
        <script type="text/javascript">
            WebFontConfig = {
                google: {
                    families: [
                        "Source+Sans+Pro:400,200,300,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic:latin",
                    ],
                },
            };
            (function() {
                var wf = document.createElement("script");
                wf.src = "https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";
                wf.type = "text/javascript";
                wf.async = "true";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(wf, s);
            })();
        </script>

        <script src="js/UX_JS_velocity.min.js"></script>
        <script src="js/kendo.all.min.js"></script>
        <script src="js/UX_JS_immutable.min.js"></script>
    </head>

    <body data-column-layout="3col" style="padding-top:0px;" data-theme="syspro-light">
        <div id="invisibleNode" style="display: none;"></div>
        <div id="invisibleToolbarNode" style="display: none;"></div>

        <nav
            id="fusion-toolbar"
            class="navbar navbar-default navbar-fixed-top navbar-controlbar sys-mg-b-5 fusion-top-toolbar"
        >
            <div class="container-fluid">
                <ul class="nav navbar-nav navbar-right sys-fg-primary">
                    <li class=" nav-item">
                        <a
                            href="#"
                            class="text-primary fusion-main-page-buttons nav-link fusion-current-account"
                        >
                            <i class="material-icons">notifications</i> <span class="badge sys-bg-danger">8</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="wrapper" class="toggled">
            <div class="container-fluid" id="main-container">
                <div class="row sys-mg-t-5">
                    <div class="col-sm-12 col-xs-12 column-parent sys-mg-t-15">
                        <div class="row widget layout-widget" id="">
                            <div class="col-sm-3">
                                <div class="panel panel-inverse sys-bd-very-light-gray" id="hotfixNavigator">
                                    <div class="panel-heading sys-pd-10">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <button class="btn btn-primary btn-sm">Request hotfix</button>
                                            </div>
                                            <div class="col-xs-6">
                                                <div class="form-group is-empty sys-mg-off sys-pd-off">                  
                                                                                    
                                                    <div class="input-group">
                                                        <span class="spinner"></span>

                                                        <input type="text" class="form-control" id="quoteNumber" placeholder="Customer" data-bind="value: CustomerCode, disabled: DisableCustomerSelection">
                                                        <span class="input-group-btn" data-bind="invisible: DisableCustomerSelection">
                                                            <a class="syspro-browse-button" >
                                                                <i class="material-icons">search</i>
                                                            </a>
                                                        </span>
                                                    </div>

                                            
                                            
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        
                                        <div class="row sys-mg-t-10">
                                            <div class="col-xs-12">
                                                <div id="hotfixNavTreeView"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-9">
                                <div class="panel sys-bd-off">
                                    
                                    <!--      Wizard container        -->
                                    <div class="card wizard-card sys-pd-b-10" id="hotfixWizard">
                                        <form action="" method="">
                                            <div class="wizard-navigation">
                                                <div class="progress-with-circle">
                                                    <div
                                                        class="progress-bar"
                                                        role="progressbar"
                                                        aria-valuenow="1"
                                                        aria-valuemin="0"
                                                        aria-valuemax="4"
                                                        style="width: 15%;"
                                                    ></div>
                                                </div>
                                                <ul>
                                                    <li>
                                                        <a href="#info" data-toggle="tab">
                                                            <div class="icon-circle">
                                                                <i class=" material-icons">info</i>
                                                            </div>
                                                            <small>Information</small>
                                                        </a>
                                                    </li>

                                                    <li class="" data-step="availableHotfixes">
                                                        <a href="#hotfixes" data-toggle="tab">
                                                            <div class="icon-circle">
                                                                <i class=" material-icons">playlist_add</i>
                                                            </div>
                                                            <small>Available Hotfixes</small>
                                                        </a>
                                                    </li>
                                                    <li class="">
                                                        <a href="#confirm" data-toggle="tab">
                                                            <div class="icon-circle">
                                                                <i class=" material-icons">thumb_up</i>
                                                            </div>
                                                            <small>Confirm</small>
                                                        </a>
                                                    </li>
                                                    <li class="">
                                                        <a href="#isv" data-toggle="tab">
                                                            <div class="icon-circle">
                                                                <i class=" material-icons">check_circle</i>
                                                            </div>
                                                            <small>Done</small>
                                                        </a>
                                                    </li>

                                                </ul>
                                            </div>
                                            <div class="tab-content">
                                                <div class="tab-pane " id="info">
                                                    <div class="row quote-scrollable-pane">
                                                        <div class="col-xs-12">
                                                            <div id="installedHotfixes"></div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="tab-pane " id="hotfixes">
                                                    
                                                    <div class="row quote-scrollable-pane">
                                                        <div class="col-xs-12">
                                                            <div id="availableHotfixesGrid"></div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="tab-pane " id="confirm">
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <p class="lead text-center">
                                                                A new request ID will be generated on your behalf. Please confirm details below
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row quote-scrollable-pane">
                                                        <div class="col-sm-8 col-sm-offset-2">
                                                            <div class="alert sys-bd-very-light-gray">
                                                                <div class="form-horizontal">
                                                                    <div class="row">
                                                                        <div class="col-xs-12">
                                                                            <!-- <div class="form-group is-empty sys-mg-b-15">
                                            
                                                                                <label for="xxx" class="col-md-5 control-label sys-pd-t-5">
                                                                                    <b>Select environment</b>
                                                                                </label>
                                                                                <div class="col-md-7 syspro-entry-content">
                                                                                    <select class="form-control" id="">
                                                                                        <option value="test">Test</option>
                                                                                        <option value="dev">Dev</option>
                                                                                        <option value="live">Live</option>
                                                                                    </select>
                                                                                </div>
                                                                            </div> -->
                                                                            
                                                                            <div class="form-group sys-mg-b-15">
                                            
                                                                                <label for="xxx" class="col-md-5 control-label sys-pd-t-5">
                                                                                    <b>Deployment group</b>
                                                                                </label>
                                                                                <div class="col-md-7 syspro-entry-content sys-pd-t-5">
                                                                                    <span class="" data-bind="text: NewRequest.DeploymentGroup"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group sys-mg-b-15">
                                            
                                                                                <label for="xxx" class="col-md-5 control-label sys-pd-t-5">
                                                                                    <b>Request ID</b>
                                                                                </label>
                                                                                <div class="col-md-7 syspro-entry-content sys-pd-t-5">
                                                                                    <span class=""data-bind="text: NewRequest.ID"></span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group is-empty sys-mg-b-15">
                                            
                                                                                <label for="xxx" class="col-md-5 control-label sys-pd-t-5">
                                                                                    <b>Update hotfixes on</b>
                                                                                </label>
                                                                                <div class="col-md-7 syspro-entry-content">
                                                                                    <input type="text" class="form-control date" id="" data-bind="value: NewRequest.RequestDate">
                                                                                </div>
                                                                            </div>
                                        
                                                                            <table class="table table-responsive table-bordered">
                                                                                <tbody data-template="newRequestHotfixTemplate" data-bind="source: NewRequest.Hotfixes"></tbody>
                                                                                
                                                                            </table>
                                        
                                                                            <div class="form-group sys-mg-b-15">
                                            
                                                                                <label for="xxx" class="col-md-5 control-label sys-pd-t-5">
                                                                                    <b>Backup prior to update</b>
                                                                                </label>
                                                                                <div class="col-md-7 syspro-entry-content sys-pd-t-5">
                                                                                    <span class="">
                                                                                        <i class="material-icons sys-fg-success">done</i>                                                
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row rollback-request">
                                                                                <div class="col-xs-6 col-xs-offset-3">
                                                                                    <button class="btn btn-block btn-danger">
                                                                                        Roll back
                                                                                        <i class="material-icons pull-right">restore</i>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row pending-request">
                                                                                <div class="col-xs-6">
                                                                                    <button class="btn btn-block btn-default">
                                                                                        Cancel
                                                                                        <i class="material-icons pull-right">cancel</i>
                                                                                    </button>
                                                                                </div>
                                                                                <div class="col-xs-6">
                                                                                    <button class="btn btn-block btn-success" disabled>
                                                                                        Save changes
                                                                                        <i class="material-icons pull-right">check_circle</i>
                                                                                    </button>
                                                                                </div>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- <hr>
                                                                <div class="row">
                                                                    <div class="col-xs-6">
                                                                        <button class="btn btn-block btn-danger">
                                                                            <i class="material-icons pull-left">settings_backup_restore</i>
                                                                            Rollback
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-xs-6">
                                                                        <button class="btn btn-block btn-success disabled" disabled="true">
                                                                            Approve
                                                                            <i class="material-icons pull-right">done</i>
                                                                        </button>
                                                                    </div>
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane" id="isv">
                                                    
                                                    <div class="row quote-scrollable-pane">
                                                        <div class="col-sm-6 col-sm-offset-3">
                                                            <div class="alert alert-success">
                                                                <div class="row">
                                                                    <div class="col-xs-12 text-center">
                                                                        <i class="material-icons sys-txt-lg sys-fg-success">cloud_done</i> 
                                                                    </div>
                                                                    <div class="col-xs-12">
                                                                        <h3 class="text-center"><b>Update complete!</b></h3>
                                                                        <p class="lead text-center">
                                                                            Your upgrade and hotfixes have been installed to <b>Development</b>.
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane" id="infrastructure">

                                                    <div class="row quote-scrollable-pane">
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="wizard-footer">
                                                <div class="pull-right">
                                                    <input
                                                        type="button"
                                                        class="btn btn-next btn-primary btn-wd"
                                                        name="next"
                                                        value="Next"
                                                        disabled="true"
                                                    />
                                                    <!-- <input
                                                        type="button"
                                                        class="btn btn-finish btn-primary btn-wd"
                                                        name="finish"
                                                        value="Finish"
                                                    /> -->
                                                </div>

                                                <div class="pull-left">
                                                    <input
                                                        type="button"
                                                        class="btn btn-previous btn-default btn-wd sys-bg-gray sys-fg-white"
                                                        name="previous"
                                                        value="Previous"
                                                    />
                                                </div>
                                                <div class="clearfix"></div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!-- wizard container -->
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="statusBar sys-bg-inverse" style="display: block;"><span class="status-message sys-fg-very-light-gray">The OUTDOORS Company (EDU1)           TUESDAY 8   JANUARY 2019</span></div>
        </div>

        <script src="js/UX_JS_bootstrap.js"></script>
        <script src="js/UX_JS_bootstrap-3-typeahead.js"></script>
        <script src="js/bootstrap-tagsinput.min.js"></script>
        <script src="js/nouislider.min.js"></script>
        <script src="js/UX_JS_forms.js"></script>
        <script src="js/jquery.bootstrap.wizard.js"></script>
        <script src="js/UX_JS_bootstrap-datepicker.js"></script>
        <script src="js/UX_JS_moment.min.js"></script>
        <script src="js/UX_JS_bootstrap-datetimepicker.js"></script>
        
        <script id="newRequestHotfixTemplate" type="text/kendo-ui-template">
            <tr>
                <td><b>#: HotfixFileName #</b></td>
            </tr>
        </script>

        <script id="treeview-template" type="text/kendo-ui-template">
            # if (item.type === 'environment') { #
                <i class="material-icons">dns</i>           
            #} else if (item.type === 'version') { #
                <i class="material-icons">device_hub</i>
            #} else if (item.type === 'hotfix') { #
                <i class="material-icons">apps</i>
            #} else {#
                <i class="material-icons">account_circle</i>
            # } #
            #: item.name # 
        </script>

        <!-- <script type="text/x-kendo-template" id="hotfixToolbarFilterTemplate">
            <div class="toolbar">
               <label class="list-label" for="list">Get full list:</label>
               <input type="checkbox" id="list" style="width: 75px"/>
            </div>
         </script> -->
         <script type="text/x-kendo-template" id="hotfixToolbarFilterTemplate">
            <button class="btn btn-default" id="clearHotfixFilters">Clear filters</button>
            <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-primary">
                  <input type="radio" name="hotfixGridFilter" id="myhotfixes" value="HotfixMyHotfix"> My hotfixes
                </label>
                <label class="btn btn-primary">
                  <input type="radio" name="hotfixGridFilter" id="general" value="HotfixGeneral"> General
                </label>
                <label class="btn btn-primary">
                  <input type="radio" name="hotfixGridFilter" id="mandatory" value="HotfixMandatory"> Mandatory
                </label>
                <label class="btn btn-primary">
                    <input type="radio" name="hotfixGridFilter" id="consolidated" value="HotfixMandatory"> Consolidated
                </label>
            </div>
            <span class="k-textbox k-grid-search k-display-flex">
                <input autocomplete="off" placeholder="Search..." title="Search..." class="k-input" id="hotfixGridSearch">
                <span class="k-input-icon">
                    <span class="k-icon k-i-search"></span>
                </span>
            </span>
        </script>

        <script>
            
            // Set up some basic Kendo data models and extended functionality
            kendo.data.ObservableObject.prototype.sysproVersion = function() {
                return this.parent().parent().get('SoftwareVersionName');
            };
            kendo.data.ObservableObject.prototype.shortHotfixSynopsis = function() {
                return this.get('HotfixSynopsis').substring(0, 36);
            };
            
            const hotfixModel = kendo.data.Node.define({
                id: 'HotfixId'
            });

            const HotfixSchema = {
                schema: {
                    data: 'Hotfixes',
                    model: hotfixModel,
                },
            };

            const hotfixRequestsModel = kendo.data.Node.define({
                id: 'ID',
            });

            const HotfixRequestsSchema = {
                schema: {
                    data: 'HotfixRequests',
                    model: hotfixRequestsModel,
                },
            };

            const subscriptionsModel = kendo.data.Node.define({
                id: 'ID',
                children: HotfixRequestsSchema,
            });

            const SubscriptionsSchema = {
                schema: {
                    data: 'Subscriptions',
                    model: subscriptionsModel,
                },
            };

            const customerModel = kendo.data.Node.define({
                id: 'CustomerCode',
                children: SubscriptionsSchema,
            });

            // Main object to house the bulk of the functionality and event listener registration etc.
            const HotfixUI = {
                init: function() {
                    HotfixUI.initWizard();
                    HotfixUI.initEvents();
                    HotfixUI.resizeUi();
                },
                initWizard: function() {
                    $("#hotfixWizard").bootstrapWizard({
                        tabClass: "nav nav-pills",
                        nextSelector: ".btn-next",
                        previousSelector: ".btn-previous",

                        onNext: function(tab, navigation, index) {
                            var $valid = true; // use some validator
                            if (!$valid) {
                                $validator.focusInvalid();
                                return false;
                            }
                            var checkedHotfixes = [];
                            if ( $(tab).data('step') === "availableHotfixes" ) {                           
                                $("#hotfixes input[type='checkbox']:checked").each(function(idx, hotfix) {
                                    checkedHotfixes.push({
                                        hotfixID: $(this).val(),
                                    });
                                });
                            }
                        },

                        onInit: function(tab, navigation, index) {
                            //check number of tabs and fill the entire row
                            var $total = navigation.find("li").length;
                            $width = 100 / $total;

                            navigation.find("li").css("width", $width + "%");
                        },

                        onTabClick: function(tab, navigation, index) {
                            var $valid = true; // use some validator

                            if (!$valid) {
                                return false;
                            } else {
                                return true;
                            }
                        },

                        onTabShow: function(tab, navigation, index) {
                            var $total = navigation.find("li").length;
                            var $current = index + 1;
                            if ( $(tab).data('step') === "availableHotfixes" ) {                            
                                HotfixUI.resizeUi();
                                $("#availableHotfixesGrid").data('kendoGrid').resize();
                            }
                            var $wizard = navigation.closest(".wizard-card");
                            // If it's the last tab then hide the last button and show the finish instead
                            if ($current >= $total) {
                                $($wizard)
                                    .find(".btn-next")
                                    .hide();
                                $($wizard)
                                    .find(".btn-finish")
                                    .show();
                            } else if ($current === $total - 1) {
                                $($wizard)
                                    .find(".btn-next")
                                    .show().val('Confirm');
                                $($wizard)
                                    .find(".btn-finish")
                                    .hide();
                            } else {
                                $($wizard)
                                    .find(".btn-next")
                                    .show().val('Next');
                                $($wizard)
                                    .find(".btn-finish")
                                    .hide();
                            }

                            //update progress
                            var move_distance = 100 / $total;
                            move_distance = move_distance * index + move_distance / 2;

                            $wizard.find($(".progress-bar")).css({ width: move_distance + "%" });
                            //e.relatedTarget // previous tab

                            $wizard.find($(".wizard-card .nav-pills li.active a .icon-circle")).addClass("checked");
                        },
                    });

                    $('#hotfixWizard').bootstrapWizard('disable',1);
                    $('#hotfixWizard').bootstrapWizard('disable',2);
                    $('#hotfixWizard').bootstrapWizard('disable',3);
                },
                truthify: function(obj) {
                    Object.keys(obj).forEach(key => {
                        if ( obj[key] === "true" ) {
                            obj[key] = true;
                        } else if ( obj[key] === "false" ) {
                            obj[key] = false;
                        } else if ( (obj[key] !== null && obj[key] !== undefined) && (key === "QuoteDate" || key === "ExpiryDate" || key === "LicenseStartDate" || key === "ContractStartDate" || key === "ContractEndDate" )) {
                            obj[key] = moment(obj[key]).format("DD/MM/YYY")
                        }
                        
                        if (obj[key] !== null && obj[key] !== undefined && typeof obj[key] === 'object') {
                            HotfixUI.truthify(obj[key])
                        }
                    });                    
                },
                reFormatJSON: function(data) {
                    const gridData = [];
                    if ( data.Subscriptions && data.Subscriptions.Subscription ) {
                        if ( Array.isArray(data.Subscriptions.Subscription) ) {
                            data.Subscriptions = data.Subscriptions.Subscription;
                        } else if ( data.Subscriptions.Subscription !== null && data.Subscriptions.Subscription !== undefined && typeof data.Subscriptions.Subscription === 'object' ) {
                            data.Subscriptions = [data.Subscriptions.Subscription];
                        }
                        data.Subscriptions.forEach(sub => {
                            if ( sub.HotfixRequests && sub.HotfixRequests.HotfixRequest ) {
                                if ( Array.isArray(sub.HotfixRequests.HotfixRequest) ) {
                                    sub.HotfixRequests = sub.HotfixRequests.HotfixRequest;
                                } else if ( sub.HotfixRequests.HotfixRequest !== null && sub.HotfixRequests.HotfixRequest !== undefined && typeof sub.HotfixRequests.HotfixRequest === 'object' ) {
                                    sub.HotfixRequests = [sub.HotfixRequests.HotfixRequest];
                                }
                                sub.HotfixRequests.forEach(hotfixRequest => {
                                    if ( hotfixRequest.Hotfixes && hotfixRequest.Hotfixes.HotfixItem ) {
                                        if ( Array.isArray(hotfixRequest.Hotfixes.HotfixItem) ) {
                                            hotfixRequest.Hotfixes = hotfixRequest.Hotfixes.HotfixItem;
                                        } else if ( hotfixRequest.Hotfixes.HotfixItem !== null && hotfixRequest.Hotfixes.HotfixItem !== undefined && typeof hotfixRequest.Hotfixes.HotfixItem === 'object' ) {
                                            hotfixRequest.Hotfixes = [hotfixRequest.Hotfixes.HotfixItem];
                                        }
                                        hotfixRequest.Hotfixes.forEach(hotfix => {
                                            hotfix.HotfixRequestId = hotfixRequest.ID;
                                            gridData.push({
                                                ...hotfix,
                                                ...hotfixRequest,
                                                SubDesc: sub.Description,
                                            });
                                        });
                                    }
                                    hotfixRequest.SubDesc = sub.Description;
                                    
                                });
                            }
                            if ( sub.AllHotfixes && sub.AllHotfixes.HotfixItem ) {
                                if ( Array.isArray(sub.AllHotfixes.HotfixItem) ) {
                                    sub.AllHotfixes = sub.AllHotfixes.HotfixItem;
                                } else if ( sub.AllHotfixes.HotfixItem !== null && sub.AllHotfixes.HotfixItem !== undefined && typeof sub.AllHotfixes.HotfixItem === 'object' ) {
                                    sub.AllHotfixes = [sub.AllHotfixes.HotfixItem];
                                }
                            }
                        });
                    }

                    if ( data.NewRequest && data.NewRequest.Hotfixes && data.NewRequest.Hotfixes.HotfixItem ) {
                        if ( Array.isArray(data.NewRequest.Hotfixes.HotfixItem) ) {
                            data.NewRequest.Hotfixes = data.NewRequest.Hotfixes.HotfixItem;
                        } else if ( data.NewRequest.Hotfixes.HotfixItem !== null && data.NewRequest.Hotfixes.HotfixItem !== undefined && typeof data.NewRequest.Hotfixes.HotfixItem === 'object' ) {
                            data.NewRequest.Hotfixes = [data.NewRequest.Hotfixes.HotfixItem];
                        }
                    }
                    return {
                        treeData: data,
                        gridData: gridData,
                    }
                },
                initAvailableHotfixesGrid: function(node) {
                    if ($("#availableHotfixesGrid").data("kendoGrid")) {
                        $("#availableHotfixesGrid").data("kendoGrid").destroy();
                    }
                        
                    $("#availableHotfixesGrid").kendoGrid({
                        dataSource: node.AllHotfixes,
                        height: $(window).height() - 330,
                        sortable: true,
                        toolbar: [
                            { template: kendo.template($("#hotfixToolbarFilterTemplate").html())}
                        ],
                        search: {
                            fields: ["HotfixFileName", "HotfixId", "HotfixSynopsis"]
                        },
                        columns: [
                            { 
                                field: "HotfixSelected",
                                width: 50,
                                template: function (dataItem) {
                                    return "<input type='checkbox' id='checkbox-" + dataItem.HotfixId + "' data-bind='checked:HotfixSelected, disabled: HotfixReadOnly' class='row-checkbox'>";
                                },
                                headerTemplate: "<input id='header-chb' type='checkbox' class='header-checkbox'/>",
                                sortable: false 
                            },
                            {
                                field: "HotfixFileName",
                                title: "Filename",
                            },
                            {
                                field: "HotfixSynopsis",
                                title: "Synopsis",
                            },
                            {
                                field: "HotfixInstalled",
                                title: "Installed?",
                            },
                        ],
                        dataBound: function(e){
                            e.sender.items().each(function(){
                                var dataItem = e.sender.dataItem(this);
                                kendo.bind(this, dataItem);
                                if(dataItem.HotfixSelected){
                                    $(this).addClass("k-state-selected");
                                }
                            });

                            $("#header-chb")[0].checked = e.sender.items().find(":checked").length == e.sender.dataSource.view().length;

                            $("#clearHotfixFilters").off("click").on("click", function(b) {
                                b.preventDefault();
                                $("input[name='hotfixGridFilter']").prop("checked", false);
                                $("input[name='hotfixGridFilter']").parent('.active').removeClass('active');
                                e.sender.dataSource.filter({});
                                $("#hotfixGridSearch").val('');
                            });

                            $("input[name='hotfixGridFilter']").off('change').on('change', function(d) {
                                var field = $(this).val();
                                var value;
                                if (field === 'HotfixMandatory') {
                                    if ($(this).attr('id') === 'mandatory') {
                                        value = 'Y';
                                    } else {
                                        value = 'C';
                                    }
                                } else {
                                    value = true;
                                }
                                e.sender.dataSource.filter({
                                    field: field,
                                    operator: "eq",
                                    value: value
                                });
                                $("#hotfixGridSearch").val('');
                            });

                            function selectRow() {
                                var checked = this.checked,
                                    row = $(this).closest("tr"),
                                    grid = $("#availableHotfixesGrid").data("kendoGrid"),
                                    dataItem = grid.dataItem(row);

                                if (checked) {
                                    //-select the row
                                    row.addClass("k-state-selected");
                                    var checkHeader = true;
                                    $.each(grid.items(), function (index, item) {
                                        if (!($(item).hasClass("k-state-selected"))) {
                                            checkHeader = false;
                                        }
                                    });

                                    $("#header-chb")[0].checked = checkHeader;
                                    console.log(dataItem.HotfixId);
                                } else {
                                    //-remove selection
                                    row.removeClass("k-state-selected");
                                    $("#header-chb")[0].checked = false;
                                }
                            }
            

                            $("#availableHotfixesGrid").data("kendoGrid").table.off('click', ".row-checkbox").on("click", ".row-checkbox", selectRow);
                        }
                    });
                                                    
                    HotfixUI.resizeUi();
                    kendo.bind();
                },
                initTreeView: function(dataSource, gridData) {
                    const treeView = $("#hotfixNavTreeView").kendoTreeView({
                        dataSource: dataSource,                    
                        dataTextField: [ "CustomerName", "Description", "ID", "HotfixId" ],
                        select: function(e) {
                            const nodeId = $(e.node).data('uid');
                            const node = dataSource.getByUid(nodeId);
                            if (node && node.HotfixRequests) {
                                $("#installedHotfixes").data('kendoGrid').dataSource.filter({ field: "Description", operator: "eq", value: node.Description });
                                $(".rollback-request, .pending-request").hide();
                                $(".btn-next").attr('disabled', false);
                                $('#hotfixWizard').bootstrapWizard('enable',1);
                                $('#hotfixWizard').bootstrapWizard('enable',2);
                                $('#hotfixWizard').bootstrapWizard('enable',3);

                                HotfixUI.initAvailableHotfixesGrid(node);
                                
                            } else if (node && node.Hotfixes) {  

                                $("#installedHotfixes").data('kendoGrid').dataSource.filter({ field: "Description", operator: "eq", value: node.parent().parent().Description });
                                setTimeout(function(){
                                    $(".k-master-row[data-uid='" + node.parent().parent().uid + "']").next('.k-detail-row').find('.k-detail-cell > .k-grid')
                                    .data('kendoGrid').dataSource
                                        .filter([
                                            { field: "SubDesc", operator: "eq", value: node.parent().parent().Description },
                                            { field: "HotfixRequestId", operator: "eq", value: node.ID },
                                        ]);
                                }, 200);
                                                       
                                $(".btn-next").attr('disabled', true);
                                $(".icon-circle").removeClass('checked');
                                if (node.Status === "Installed successfully") {
                                    $(".pending-request").hide();
                                    $(".rollback-request").show();
                                } else if (node.status === 'pending') {
                                    $(".rollback-request").hide();
                                    $(".pending-request").show();
                                }
                                $('#hotfixWizard').bootstrapWizard('show',0);
                                $('#hotfixWizard').bootstrapWizard('disable',1);
                                $('#hotfixWizard').bootstrapWizard('disable',2);
                                $('#hotfixWizard').bootstrapWizard('disable',3);
                            } else if (node && node.CustomerCode) {
                                $("#installedHotfixes").data('kendoGrid').dataSource.filter({});
                                $('#hotfixWizard').bootstrapWizard('show',0);
                                $('#hotfixWizard').bootstrapWizard('disable',1);
                                $('#hotfixWizard').bootstrapWizard('disable',2);
                                $('#hotfixWizard').bootstrapWizard('disable',3);
                            }
                            
                        },
                    }).data("kendoTreeView");
                    

                    treeView.expand(".k-item");
                    treeView.expand(".k-item .k-item");                    
                    
                    var element = $("#installedHotfixes").kendoGrid({
                        dataSource: dataSource.data()[0].Subscriptions,
                        height: 600,
                        sortable: false,
                        pageable: false,
                        detailInit: detailInit,
                        dataBound: function() {
                            this.expandRow(this.tbody.find("tr.k-master-row"));
                        },
                        columns: [
                            {
                                field: "Description",
                                title: "Scheduled / installed hotfixes",
                                width: "100%"
                            },

                        ]
                    });

                    function detailInit(e) {
                        
                        $("<div/>").appendTo(e.detailCell).kendoGrid({
                            dataSource: {
                                data: gridData,
                                sort: { field: "InstalledDate", dir: "desc" },
                                filter: { field: "SubDesc", operator: "eq", value: e.data.Description }
                            },
                            scrollable: false,
                            sortable: true,
                            pageable: false,
                            dataBound: function(e) {

                                e.sender.dataSource.data().forEach(function(item, idx) {
                                    var buttonCell = e.sender.element
                                        .find('tr[data-hotfix-request-id="' + item.HotfixRequestId + '"]')
                                        .first().find('td > .hotfix-request-actions');
                                    buttonCell.show();
                                    buttonCell.find('.rollback-button').off('click').on('click', function(e) {
                                        var hotfixRequestId = $(this).parent('.hotfix-request-actions').attr('data-hotfix-request-id');
                                        console.log({
                                            action: 'rollback',
                                            hotfixRequestId: hotfixRequestId,
                                        });
                                    });
                                    buttonCell.find('.deploy-button').off('click').on('click', function(e) {
                                        var hotfixRequestId = $(this).parent('.hotfix-request-actions').attr('data-hotfix-request-id');
                                        console.log({
                                            action: 'deploy',
                                            hotfixRequestId: hotfixRequestId,
                                        });
                                    });
                                });
                            },
                            rowTemplate: '<tr data-uid="#= uid #" data-hotfix-request-id="#: HotfixRequestId #">'
                                + '<td>#: HotfixRequestId #</td>'
                                + '<td><span class="sys-txt-sm">#: HotfixId # </span></td>'
                                + '<td>#= kendo.toString(kendo.parseDate(RequestDate, "yyyy-MM-dd"), "MM/dd/yyyy") #</td>'
                                + '<td>#= kendo.toString(kendo.parseDate(RequestDate, "yyyy-MM-dd"), "MM/dd/yyyy") #</td>'
                                + '<td>#: Operator #</td>'
                                + '<td>#: Status #</td>'
                                + '<td></td>'
                                + '<td><span data-hotfix-request-id="#: HotfixRequestId #" class="hotfix-request-actions"># if ( data.CanCancel ) { # <button class="btn btn-danger btn-xs sys-pd-5">Cancel</button> # } else { # <button class="btn btn-danger btn-xs sys-pd-5 sys-mg-r-5 rollback-button">Rollback</button><button class="btn btn-success btn-xs sys-pd-5 deploy-button">Deploy</button> # } #</span></td>'                          
                            + '</tr>',
                            columns: [
                                { field: "HotfixRequestId", title: "Request ID" },
                                { field: "HotfixId", title: "Hotfix ID", template: "<span class='sys-txt-sm'>#: HotfixId # </span>" },
                                { field: "RequestDate", title: "Created", template: "#= kendo.toString(kendo.parseDate(RequestDate, 'yyyy-MM-dd'), 'MM/dd/yyyy') #" },
                                { field: "InstalledDate", title: "Deployed", template: "#= kendo.toString(kendo.parseDate(RequestDate, 'yyyy-MM-dd'), 'MM/dd/yyyy') #" },
                                { field: "Operator", title: "Approved by" },
                                { field: "Status", title: "Status" },
                                { field: "notes", title: "Notes" },
                                { title: "" }
                            ]
                        });
                    }
                    HotfixUI.resizeUi();
                },
                initEvents: function() {
                    // Initialise the check all checkbox functionality in the available hotfixes grid
                    $(document).on('change', '#header-chb', function (ev) {
                        var checked = ev.target.checked;
                        $('.row-checkbox').each(function (idx, item) {
                            if (checked) {
                                if (!($(item).closest('tr').is('.k-state-selected'))) {
                                    $(item).prop('checked', true);
                                    $(item).closest('tr').addClass('k-state-selected');
                                }
                            } else {
                                if ($(item).closest('tr').is('.k-state-selected')) {
                                    $(item).prop('checked', false);
                                    $(item).closest('tr').removeClass('k-state-selected');
                                }
                            }
                        });
                    });

                    $(window).resize(function() {
                        HotfixUI.resizeUi();
                    });  
                    
                    $('[data-tooltip="tooltip"]').tooltip();
                    
                },
                resizeUi: function () {
                    const tabHeight = $(window).height() - 200;                
                    // $(".tab-content").height(tabHeight);
                    $(".tab-content").css({'maxHeight': tabHeight, 'height': tabHeight});
                    $(".quote-scrollable-pane").css({'maxHeight': tabHeight - 100, 'height': tabHeight - 100});
                    if ($("#availableHotfixesGrid").data("kendoGrid")) {
                        $("#availableHotfixesGrid").data("kendoGrid").setOptions({
                            height: tabHeight - 130,
                        });
                    }
                    if ($("#installedHotfixes").data("kendoGrid")) {
                        $("#installedHotfixes").data("kendoGrid").setOptions({
                            height: tabHeight - 130,
                        });
                    }                
                },
            }            
            
            $(document).ready(function() {

                HotfixUI.init();                                

                // A spoof version of fetching the JSON to power the UI
                $.getJSON( "https://josephclawrence.com/syspro/html/data/HotfixModel.json", function( data ) {
                    HotfixUI.truthify(data);
                    const { treeData, gridData } = HotfixUI.reFormatJSON(data);
                    window.viewModel = kendo.observable(data);
                    viewModel.DisableCustomerSelection = true;
                    kendo.bind($("body"), viewModel);
                    $.material.init();
                    
                    var dataSource = new kendo.data.HierarchicalDataSource({
                        data: [treeData],
                        schema: {
                            model: customerModel
                        }
                    });                    

                    HotfixUI.initTreeView(dataSource, gridData);
                });                                                
            });

        </script>
    </body>
</html>
